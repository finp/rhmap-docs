<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Client API</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.3"/><meta name="description" content="This document is a reference of the RHMAP Client API."/><link rel="next" href="#idm140270139051232" title="Preface"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm140270131609408"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Mobile Application Platform Hosted</span> <span class="productnumber">3</span></div><div><h1 class="title">Client API</h1></div><div><h2 class="subtitle">For Red Hat Mobile Application Platform Hosted 3</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm140270133768160">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document is a reference of the RHMAP Client API.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#idm140270139051232">Preface</a></span></li><li><span class="chapter"><a href="#fh-auth">1. $fh.auth</a></span><ul><li><span class="section"><a href="#auth-example">1.1. Example</a></span></li><li><span class="section"><a href="#validate-sessions">1.2. Validate Sessions</a></span></li><li><span class="section"><a href="#create-your-own-authentication-providers">1.3. Create your own authentication providers</a></span></li></ul></li><li><span class="chapter"><a href="#fh-cloud">2. $fh.cloud</a></span><ul><li><span class="section"><a href="#cloud-example">2.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-getCloudURL">3. $fh.getCloudURL</a></span><ul><li><span class="section"><a href="#cloud-app-url-example">3.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-getFHParams">4. $fh.getFHParams</a></span><ul><li><span class="section"><a href="#default-params-example">4.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-forms">5. $fh.forms</a></span><ul><li><span class="section"><a href="#sdk-structure">5.1. SDK Structure</a></span><ul><li><span class="section"><a href="#core">5.1.1. Core</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-init">5.2. $fh.forms.init</a></span><ul><li><span class="section"><a href="#forms-details">5.2.1. Details</a></span></li><li><span class="section"><a href="#forms-example">5.2.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-getforms">5.3. $fh.forms.getForms</a></span><ul><li><span class="section"><a href="#forms-details-1">5.3.1. Details</a></span></li><li><span class="section"><a href="#forms-example-1">5.3.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-getform">5.4. $fh.forms.getForm</a></span><ul><li><span class="section"><a href="#forms-details-2">5.4.1. Details</a></span></li><li><span class="section"><a href="#forms-example-2">5.4.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-gettheme">5.5. $fh.forms.getTheme</a></span><ul><li><span class="section"><a href="#forms-details-3">5.5.1. Details</a></span></li><li><span class="section"><a href="#forms-example-3">5.5.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-getsubmissions">5.6. $fh.forms.getSubmissions</a></span><ul><li><span class="section"><a href="#forms-details-4">5.6.1. Details</a></span></li><li><span class="section"><a href="#forms-example-4">5.6.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-downloadsubmission">5.7. $fh.forms.downloadSubmission</a></span><ul><li><span class="section"><a href="#forms-details-5">5.7.1. Details</a></span></li><li><span class="section"><a href="#example-callback-passed">5.7.2. Example: Callback Passed</a></span></li><li><span class="section"><a href="#example-callback-not-passed">5.7.3. Example: Callback Not Passed</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-log">5.8. $fh.forms.log</a></span><ul><li><span class="section"><a href="#forms-details-6">5.8.1. Details</a></span></li><li><span class="section"><a href="#forms-example-5">5.8.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-getlogs">5.9. $fh.forms.getLogs</a></span><ul><li><span class="section"><a href="#forms-details-7">5.9.1. Details</a></span></li></ul></li><li><span class="section"><a href="#global-events">5.10. Global Events</a></span><ul><li><span class="section"><a href="#forms-details-8">5.10.1. Details</a></span></li><li><span class="section"><a href="#fh-forms-on">5.10.2. $fh.forms.on</a></span></li><li><span class="section"><a href="#fh-forms-once">5.10.3. $fh.forms.once</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-models-forms">5.11. $fh.forms.models.forms</a></span><ul><li><span class="section"><a href="#forms-details-9">5.11.1. Details</a></span></li><li><span class="section"><a href="#fh-forms-models-forms-clearallforms">5.11.2. $fh.forms.models.forms.clearAllForms</a></span></li><li><span class="section"><a href="#fh-forms-models-forms-isformupdated">5.11.3. $fh.forms.models.forms.isFormUpdated</a></span></li><li><span class="section"><a href="#fh-forms-models-forms-getformmetabyid">5.11.4. $fh.forms.models.forms.getFormMetaById</a></span></li><li><span class="section"><a href="#fh-forms-models-forms-refresh">5.11.5. $fh.forms.models.forms.refresh</a></span></li><li><span class="section"><a href="#fh-forms-models-forms-clearlocal">5.11.6. $fh.forms.models.forms.clearLocal</a></span></li><li><span class="section"><a href="#fh-forms-models-forms-getformslist">5.11.7. $fh.forms.models.forms.getFormsList</a></span></li><li><span class="section"><a href="#fh-forms-models-forms-size">5.11.8. $fh.forms.models.forms.size</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-models-form">5.12. $fh.forms.models.Form</a></span><ul><li><span class="section"><a href="#forms-details-17">5.12.1. Details</a></span></li><li><span class="section"><a href="#fh-forms-models-form-constructor">5.12.2. $fh.forms.models.Form.constructor()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-getlastupdate">5.12.3. $fh.forms.models.Form.getLastUpdate()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-getpagemodellist">5.12.4. $fh.forms.models.Form.getPageModelList()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-getname">5.12.5. $fh.forms.models.Form.getName()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-getdescription">5.12.6. $fh.forms.models.Form.getDescription()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-getformid">5.12.7. $fh.forms.models.Form.getFormId()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-getfieldmodelbyid">5.12.8. $fh.forms.models.Form.getFieldModelById()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-newsubmission">5.12.9. $fh.forms.models.Form.newSubmission()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-removefromcache">5.12.10. $fh.forms.models.Form.removeFromCache()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-refresh">5.12.11. $fh.forms.models.Form.refresh()</a></span></li><li><span class="section"><a href="#fh-forms-models-form-clearlocal">5.12.12. $fh.forms.models.Form.clearLocal()</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-models-page">5.13. $fh.forms.models.Page</a></span><ul><li><span class="section"><a href="#forms-details-30">5.13.1. Details</a></span></li><li><span class="section"><a href="#fh-forms-models-page-setvisible">5.13.2. $fh.forms.models.Page.setVisible()</a></span></li><li><span class="section"><a href="#fh-forms-models-page-getname">5.13.3. $fh.forms.models.Page.getName()</a></span></li><li><span class="section"><a href="#fh-forms-models-page-getdescription">5.13.4. $fh.forms.models.Page.getDescription()</a></span></li><li><span class="section"><a href="#fh-forms-models-page-getfieldmodellist">5.13.5. $fh.forms.models.Page.getFieldModelList()</a></span></li><li><span class="section"><a href="#fh-forms-models-page-getfieldmodelbyid">5.13.6. $fh.forms.models.Page.getFieldModelById()</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-models-field">5.14. $fh.forms.models.Field</a></span><ul><li><span class="section"><a href="#forms-details-35">5.14.1. Details</a></span></li><li><span class="section"><a href="#fh-forms-models-field-isrequired">5.14.2. $fh.forms.models.Field.isRequired()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-isrepeating">5.14.3. $fh.forms.models.Field.isRepeating()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-gettype">5.14.4. $fh.forms.models.Field.getType()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-getname">5.14.5. $fh.forms.models.Field.getName()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-getcode">5.14.6. $fh.forms.models.Field.getCode()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-gethelptext">5.14.7. $fh.forms.models.Field.getHelpText()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-validateinputvalue">5.14.8. $fh.forms.models.Field.validate(inputValue)</a></span></li><li><span class="section"><a href="#fh-forms-models-field-getrules">5.14.9. $fh.forms.models.Field.getRules()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-getcheckboxoptions">5.14.10. $fh.forms.models.Field.getCheckboxOptions()</a></span></li><li><span class="section"><a href="#fh-forms-models-field-getradiooption">5.14.11. $fh.forms.models.Field.getRadioOption()</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-models-submissions">5.15. $fh.forms.models.submissions</a></span><ul><li><span class="section"><a href="#fh-forms-models-submissions-getsubmissions">5.15.1. $fh.forms.models.submissions.getSubmissions()</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getsubmissionmetalist">5.15.2. $fh.forms.models.submissions.getSubmissionMetaList()</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-findbyformidformid">5.15.3. $fh.forms.models.submissions.findByFormId(formId)</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-clearcb">5.15.4. $fh.forms.models.submissions.clear(cb)</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getdrafts">5.15.5. $fh.forms.models.submissions.getDrafts()</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getpending">5.15.6. $fh.forms.models.submissions.getPending()</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getsubmitted">5.15.7. $fh.forms.models.submissions.getSubmitted()</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-geterror">5.15.8. $fh.forms.models.submissions.getError()</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getinprogress">5.15.9. $fh.forms.models.submissions.getInProgress()</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getsubmissionbymetametacb">5.15.10. $fh.forms.models.submissions.getSubmissionByMeta(meta,cb)</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getsubmissionbylocalidlocalidcb">5.15.11. $fh.forms.models.submissions.getSubmissionByLocalId(localId,cb)</a></span></li><li><span class="section"><a href="#fh-forms-models-submissions-getsubmissionbyremoteidremoteidcb">5.15.12. $fh.forms.models.submissions.getSubmissionByRemoteId(remoteId,cb)</a></span></li></ul></li><li><span class="section"><a href="#fh-forms-models-submission">5.16. $fh.forms.models.Submission</a></span><ul><li><span class="section"><a href="#forms-details-58">5.16.1. Details</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-savedraftcb">5.16.2. $fh.forms.models.Submission.saveDraft(cb)</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-submit">5.16.3. $fh.forms.models.Submission.submit()</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-getstatus">5.16.4. $fh.forms.models.Submission.getStatus()</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-addcomment">5.16.5. $fh.forms.models.Submission.addComment()</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-getcomments">5.16.6. $fh.forms.models.Submission.getComments()</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-removecommenttimestamp">5.16.7. $fh.forms.models.Submission.removeComment(timeStamp)</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-addinputvalueparamscb">5.16.8. $fh.forms.models.Submission.addInputValue(params,cb)</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-startinputtransaction">5.16.9. $fh.forms.models.Submission.startInputTransaction()</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-endinputtransactionissucceed">5.16.10. $fh.forms.models.Submission.endInputTransaction(isSucceed)</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-reset">5.16.11. $fh.forms.models.Submission.reset()</a></span></li><li><span class="section"><a href="#fh-forms-models-submission-getformcb">5.16.12. $fh.forms.models.Submission.getForm(cb)</a></span></li><li><span class="section"><a href="#fh-forms-submission-removefieldvaluefieldid-index">5.16.13. $fh.forms.Submission.removeFieldValue(fieldId, [index])</a></span></li><li><span class="section"><a href="#fh-forms-submission-getinputvaluebyfieldidfieldcb">5.16.14. $fh.forms.Submission.getInputValueByFieldId(field,cb)</a></span></li><li><span class="section"><a href="#submission-events">5.16.15. Submission Events</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#fh-hash">6. $fh.hash</a></span><ul><li><span class="section"><a href="#hash-example">6.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-init">7. $fh.init</a></span><ul><li><span class="section"><a href="#init-example">7.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-mbaas">8. $fh.mbaas</a></span><ul><li><span class="section"><a href="#mbaas-example">8.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-push">9. $fh.push</a></span><ul><li><span class="section"><a href="#push-example">9.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-sec">10. $fh.sec</a></span><ul><li><span class="section"><a href="#sec-example">10.1. Example</a></span></li></ul></li><li><span class="chapter"><a href="#fh-sync">11. $fh.sync</a></span><ul><li><span class="section"><a href="#fh-sync-init">11.1. $fh.sync.init</a></span><ul><li><span class="section"><a href="#sync-details-1">11.1.1. Details</a></span></li><li><span class="section"><a href="#sync-example">11.1.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-notify">11.2. $fh.sync.notify</a></span><ul><li><span class="section"><a href="#sync-details-2">11.2.1. Details</a></span></li><li><span class="section"><a href="#sync-example-1">11.2.2. Example</a></span></li><li><span class="section"><a href="#fh-sync-notifications">11.2.3. Sync Notifications</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-manage">11.3. $fh.sync.manage</a></span><ul><li><span class="section"><a href="#sync-details-3">11.3.1. Details</a></span></li><li><span class="section"><a href="#sync-example-2">11.3.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-dolist">11.4. $fh.sync.doList</a></span><ul><li><span class="section"><a href="#sync-details-4">11.4.1. Details</a></span></li><li><span class="section"><a href="#sync-example-3">11.4.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-docreate">11.5. $fh.sync.doCreate</a></span><ul><li><span class="section"><a href="#sync-details-5">11.5.1. Details</a></span></li><li><span class="section"><a href="#sync-example-4">11.5.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-doread">11.6. $fh.sync.doRead</a></span><ul><li><span class="section"><a href="#sync-details-6">11.6.1. Details</a></span></li><li><span class="section"><a href="#sync-example-5">11.6.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-doupdate">11.7. $fh.sync.doUpdate</a></span><ul><li><span class="section"><a href="#sync-details-7">11.7.1. Details</a></span></li><li><span class="section"><a href="#sync-example-6">11.7.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-dodelete">11.8. $fh.sync.doDelete</a></span><ul><li><span class="section"><a href="#sync-details-8">11.8.1. Details</a></span></li><li><span class="section"><a href="#sync-example-7">11.8.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-startsync">11.9. $fh.sync.startSync</a></span><ul><li><span class="section"><a href="#sync-details-9">11.9.1. Details</a></span></li><li><span class="section"><a href="#sync-example-8">11.9.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-stopsync">11.10. $fh.sync.stopSync</a></span><ul><li><span class="section"><a href="#sync-details-10">11.10.1. Details</a></span></li><li><span class="section"><a href="#sync-example-9">11.10.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-dosync">11.11. $fh.sync.doSync</a></span><ul><li><span class="section"><a href="#sync-details-11">11.11.1. Details</a></span></li><li><span class="section"><a href="#sync-example-10">11.11.2. Example</a></span></li></ul></li><li><span class="section"><a href="#fh-sync-forcesync">11.12. $fh.sync.forceSync</a></span><ul><li><span class="section"><a href="#sync-details-12">11.12.1. Details</a></span></li><li><span class="section"><a href="#sync-example-11">11.12.2. Example</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#fh-act">12. $fh.act</a></span><ul><li><span class="section"><a href="#act-example">12.1. Example</a></span></li></ul></li></ul></div><section class="preface" id="idm140270139051232"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>
			Table key:
		</p><p>
			C - Cordova
		</p><p>
			W - Web Apps
		</p><p>
			A2 - Android SDK
		</p><p>
			I1 - iOS Objective-C
		</p><p>
			I2 - SDK iOS
		</p><p>
			S - Swift SDK
		</p><p>
			X - Xamarin
		</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 51%; " class="col_1"/><col style="width: 7%; " class="col_2"/><col style="width: 7%; " class="col_3"/><col style="width: 7%; " class="col_4"/><col style="width: 7%; " class="col_5"/><col style="width: 7%; " class="col_6"/><col style="width: 7%; " class="col_7"/><col style="width: 7%; " class="col_8"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; ">API Name and description</th><th style="text-align: left; vertical-align: top; ">C</th><th style="text-align: left; vertical-align: top; ">W1</th><th style="text-align: left; vertical-align: top; ">A2</th><th style="text-align: left; vertical-align: top; ">i1</th><th style="text-align: left; vertical-align: top; ">i2</th><th style="text-align: left; vertical-align: top; ">S</th><th style="text-align: left; vertical-align: top; ">X</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-auth" title="Chapter 1. $fh.auth">$fh.auth</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-cloud" title="Chapter 2. $fh.cloud">$fh.cloud</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-getCloudURL" title="Chapter 3. $fh.getCloudURL">$fh.getcloudurl</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-getFHParams" title="Chapter 4. $fh.getFHParams">$fh.getfhparams</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-forms" title="Chapter 5. $fh.forms">$fh.forms</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-hash" title="Chapter 6. $fh.hash">$fh.hash</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-init" title="Chapter 7. $fh.init">$fh.init</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-mbaas" title="Chapter 8. $fh.mbaas">$fh.mbaas</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-push" title="Chapter 9. $fh.push">$fh.push</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-sec" title="Chapter 10. $fh.sec">$fh.sec</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td><td style="text-align: left; vertical-align: top; "> </td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-sync" title="Chapter 11. $fh.sync">$fh.sync</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr><tr><td style="text-align: left; vertical-align: top; ">
						<p>
							<a class="link" href="#fh-act" title="Chapter 12. $fh.act">$fh.act</a>
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td><td style="text-align: left; vertical-align: top; ">
						<p>
							y
						</p>
						</td></tr></tbody></table></div></section><section class="chapter" id="fh-auth"><div class="titlepage"><div><div><h1 class="title">Chapter 1. $fh.auth</h1></div></div></div><pre class="programlisting language-javascript">$fh.auth(options, success, failure);</pre><p>
			Authenticate and optionally authorise a user via access rights management. Note that in order to use fh.auth, you will need to have a domain Administrator account. Read about our user levels here: <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/product-features/#administration">User Administration</a>. If you intend to use $fh.auth against an oauth provider, take a look at setting up an <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/product-features/#auth-policies">OAuth Policy</a>.
		</p><p>
			Generally speaking, if the Auth type is FeedHenry or LDAP, you just need to construct a view to allow users to enter their credentials and set them on the auth request instance.
		</p><p>
			If the auth policy type is OAuth, the authentication process is quite complicated. The user has to login to the OAuth provider’s login page and give permission to allow the application to access his/her information.
		</p><p>
			To make this process easier to handle, the native SDKs (iOS, Android and .NET) provide extra UI components to handle this seemlessly: the UI component appears on the screen and loads the OAuth provider’s authentication page. The component will know when the OAuth process is finished and close itself automatically and pass the results back to the success or failure function. The UI component will look like this:
		</p><p>
			<span class="inlinemediaobject"><img src="images/shared/images/ios_oauth_sample.png" alt="iOS_OAuth_Sample.png"/></span>
		</p><div class="itemizedlist" id="auth-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Windows
						</li><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="auth-example"><div class="titlepage"><div><div><h2 class="title">1.1. Example</h2></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
					
<pre class="programlisting language-javascript">// LDAP or Platform User Example
$fh.auth({
  "policyId": "My LDAP Auth Policy", // name of auth policy to use - see link:{ProductFeatures}#administration[Auth Policies Administration] for details on how to configure an auth policy
  "clientToken": "myAppId", // Your App ID
  "endRedirectUrl": window.location.href, // The URL to return to after authentication. Optional
  "params": { // the parameters associated with the requested auth policy - see below for full details.
    "userId": "joe@bloggs.com", // LDAP or Platform username
    "password": "password" // LDAP or Platform password
  }
}, function (res) {
  // Authentication successful - store sessionToken in variable
  var sessionToken = res.sessionToken; // The platform session identifier
  var authResponse = res.authResponse; // The authentication information returned from the authentication service.
  // This may include things such as validated email address,
  // OAuth token or other response data from the authentication service
}, function (msg, err) {
  var errorMsg = err.message;
  /* Possible errors:
    unknown_policyId - The policyId provided did not match any defined policy. Check the auth policies defined. See link:{ProductFeatures}#administration[Auth Policies Administration]
      user_not_found - The auth policy associated with the policyId provided has been set up to require that all users authenticating exist on the platform, but this user does not exists.
      user_not_approved - - The auth policy associated with the policyId provided has been set up to require that all users authenticating are in a list of approved users, but this user is not in that list.
        user_disabled - The user has been disabled from logging in.
        user_purge_data - The user has been flagged for data purge and all local data should be deleted.
        device_disabled - The device has been disabled. No user or apps can log in from the requesting device.
        device_purge_data - The device has been flagged for data purge and all local data should be deleted.
    */
if (errorMsg === "user_purge_data" || errorMsg === "device_purge_data") {
  // User or device has been black listed from administration console and all local data should be wiped
} else {
  alert("Authentication failed - " + errorMsg);
}
});


// OAuth 2.0 Example
// OAuth does not require any params, instead the "authCallback" param should be set on the $fh.auth call.
// This should be a function name that you have defined, and will be called after Auth has completed.
$fh.auth({
  "policyId": "My OAuth Policy",
  "clientToken": "myAppId",
  "authCallback": "authLoginCallback",
  "endRedirectUrl": window.location.href
}, function () {
  //
}, function () {
  //
});

var authLoginCallback = function(err, res) {
  if (!err) {
    // Authentication successful - store sessionToken in variable
    var sessionToken = res.sessionToken;
  } else {
    alert("Authentication failed - " + err.message);
  }
}</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
					If you want to use the built-in OAuth handler as described in the example below, you need to add the following configuration into the <span class="emphasis"><em>application</em></span> element of your application’s <span class="emphasis"><em>AndroidManifest.xml</em></span> file
				</p></div><pre class="programlisting language-xml">&lt;application&gt;
  ...
  &lt;activity android:name="com.feedhenry.sdk.oauth.FHOAuthIntent" /&gt;
&lt;/application&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Before invoking the Auth code, first ensure that <code class="literal">FH.init</code> code is initialized. For an example, see <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/client-api/#init-example">here</a>.
				</p></div></div><pre class="programlisting language-java">//Example code to authenticate a user with username and password that are defined in an auth policy called "MyFeedHenryPolicy"
private void loginWithFh(){
  EditText userField = (EditText) findViewById(R.id.fh_login_user);
  EditText passField = (EditText) findViewById(R.id.fh_login_password);
  String userName = userField.getText().toString();
  String password = passField.getText().toString();
if("".equals(userName)){
  FhUtil.showMessage(this, "Error", "User name is empty");
  return;
}
if("".equals(password)){
  FhUtil.showMessage(this, "Error", "Password is empty");
  return;
}
try{
  FHAuthRequest authRequest = FH.buildAuthRequest("MyFeedHenryPolicy", userName, password);
  authRequest.executeAsync(new FHActCallback() {


    @Override
    public void success(FHResponse resp) {
      Log.d("FHLoginActivity", "Login success");
    }

    @Override
    public void fail(FHResponse resp) {
      Log.d("FHLoginActivity", "Login fail");
    }
  });
}catch(Exception e){
  e.printStackTrace();
  }
}</pre><p>
				If the auth policy type is OAuth, an Intent will be invoked to load the OAuth provider’s authentication page. It will know when the OAuth process is finished and will close itself automatically and pass the results back to your success or failure function. To enable this, all you have to do is to call the <span class="emphasis"><em>setPresentingActivity</em></span> method of the FHAuthRequest instance with your application’s context.
			</p><pre class="programlisting language-java">private void doOAuth(){
try{
FHAuthRequest authRequest = FH.buildAuthRequest();
authRequest.setPresentingActivity(this);
authRequest.setAuthPolicyId("MyGooglePolicy"); //"MyGooglePolicy" should be replaced with policy id you created
authRequest.executeAsync(new FHActCallback() {


    @Override
    public void success(FHResponse resp) {
      Log.d("FHAuthActivity", resp.getJson().toString());
    }

    @Override
    public void fail(FHResponse resp) {
      Log.d("FHAuthActivity", resp.getErrorMessage());
    }
  });
} catch(Exception e){
  Log.e("FHAuthActivity", e.getMessage(), e);
  }
}</pre><p>
				If the <code class="literal">setPresentingActivity</code> method is not called, you will have the chance to handle this by your own code. For example:
			</p><pre class="programlisting language-java">private void doOAuth(){
try{
  FHAuthRequest authRequest = FH.buildAuthRequest();
  authRequest.setAuthPolicyId("MyGooglePolicy"); //"MyGooglePolicy" should be replaced with policy id you created
  authRequest.executeAsync(new FHActCallback() {


    @Override
    public void success(FHResponse resp) {
      Log.d("FHAuthActivity", resp.getJson().toString());
      //because the setPresentingActivity method is not called, the reponse will contain a URL which should be used for user to login. Normally it should be loaded into a WebView
      String url = resp.getJson().getString("url");
      // load the url in a WebView, and then a seriers of redirects will happen
      // the last url will contain a string "status=complete"
      // and there will be a query parameter called "authResponse" in that url
      // the value of that parameter is the data returned from the OAuth provided (JSON stringified and URL encoded)
    }

    @Override
    public void fail(FHResponse resp) {
      Log.d("FHAuthActivity", resp.getErrorMessage());
    }
  });
} catch(Exception e){
  Log.e("FHAuthActivity", e.getMessage(), e);
  }
}</pre><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
					
<pre class="programlisting language-objectivec">//Example to authenticate user using username and password
NSString* userName = self.usernameField.text;
if(!userName){
  return [self showMessage:@"Error" message:@"User Name field is required"];
}
NSString* password = self.passwordField.text;
if(!password){
  return [self showMessage:@"Error" message:@"Password field is required"];
}
FHAuthReqeust* authRequest = [FH buildAuthRequest];
[authRequest authWithPolicyId:@"MyFeedHenryPolicy" UserId:userName Password:password]; //"MyFeedHenryPolicy" should be replaced with policy id you created
void (^success)(FHResponse *)=^(FHResponse * res){
  NSLog(@"parsed response %@ type=%@",res.parsedResponse,[res.parsedResponse class]);
  if ([[[res parsedResponse] valueForKey:@"status"] isEqualToString:@"error"]) {
    [self showMessage:@"Failed" message:%5Bres.parsedResponse valueForKey:@"message"]];
  } else {
    [self showMessage:@"Success" message:res.rawResponseAsString];
  }
};
void (^failure)(FHResponse *)=^(FHResponse* res){
  NSLog(@"parsed response %@ type=%@",res.parsedResponse,[res.parsedResponse class]);
  [self showMessage:@"Failed" message:res.rawResponseAsString];
};
[authRequest execAsyncWithSuccess:success AndFailure:failure];</pre>
				</p></div><p>
				If the auth policy type is OAuth, a UI component will be invoked to display the OAuth provider’s authentication page. The component waits until the OAuth process is finished, gets closed automatically afterwards, and passes the authentication results back to your success or failure function. To enable this, set the <code class="literal">parentViewController</code> property of the <code class="literal">FHAuthRequest</code> instance with an instance of <code class="literal">UIViewController</code> of your application.
			</p><pre class="programlisting language-objectivec">FHAuthReqeust * authRequest = [FH buildAuthRequest];
[authRequest authWithPolicyId:@"MyOAuthPolicy"]; //"MyOAuthPolicy" should be replaced with policy id you created
authRequest.parentViewController = viewController; //Important, this will enable the built-in OAuth hanlder
void (^success)(FHResponse *)=^(FHResponse * res){
  NSLog(@"parsed response %@ type=%@",res.parsedResponse,[res.parsedResponse class]);
  if ([[[res parsedResponse] valueForKey:@"status"] isEqualToString:@"error"]) {
    [self showMessage:@"Failed" message:%5Bres.parsedResponse valueForKey:@"message"]];
  } else {
    [self showMessage:@"Success" message:%5Bres.parsedResponse JSONString]];
  }
};
void (^failure)(FHResponse *)=^(FHResponse* res){
  NSLog(@"parsed response %@ type=%@",res.parsedResponse,[res.parsedResponse class]);
[self showMessage:@"Failed" message:res.rawResponseAsString];
};

[authRequest execAsyncWithSuccess:success AndFailure:failure]</pre><p>
				If the <span class="emphasis"><em>parentViewController</em></span> property is not set, you will have the chance to handle this by your own code. For example:
			</p><pre class="programlisting language-objectivec">FHAuthReqeust* authRequest = [FH buildAuthRequest];
[authRequest authWithPolicyId:@"MyOAuthPolicy"]; //"MyOAuthPolicy" should be replaced with policy id you created
void (^success)(FHResponse *)=^(FHResponse * res){
  NSLog(@"parsed response %@ type=%@",res.parsedResponse,[res.parsedResponse class]);
  //because the parentViewController is not set, the reponse will contain a URL which should be used for user to login. Normally it should be loaded into a WebView
  NSString* oauthUrl = [res.parsedResponse valueForKey:@"url"];
  NSURL* request = [NSURL URLWithString:oauthUrl];
  // load the url in a WebView, and then a seriers of redirects will happen
  // the last url will contain a string "status=complete"
  // and there will be a query parameter called "authResponse" in that url
  // the value of that parameter is the data returned from the OAuth provided (JSON stringified and URL encoded)
};
void (^failure)(FHResponse *)=^(FHResponse* res){
  NSLog(@"parsed response %@ type=%@",res.parsedResponse,[res.parsedResponse class]);
  [self showMessage:@"Failed" message:res.rawResponseAsString];
};

[authRequest execAsyncWithSuccess:success AndFailure:failure];</pre><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
					
<pre class="programlisting language-swift">//Example to authenticate user using username and password
FH.auth("MyFeedHenryPolicy", userName: "me", password: "password", completionHandler: { (response: Response, error: NSError?) -&gt; Void in
  if let error = error {
    print("Error \(error)")
    return
  }
  if let response = response.parsedResponse as? [String: String]{
    if let status = response["status"] where status == "ok" {
      print("Response \(response)")
    } else if let status = response["status"] where status == "error" {
      let message = response["message"] ?? ""
      print("OAuth failed \(message)")
    }
  }
})</pre>
				</p></div><p>
				If the auth policy type is OAuth, a UI component will be invoked to load the OAuth provider’s authentication page. The component waits until the OAuth process is finished, gets closed automatically afterwards, and passes the authentication results back to your success or failure function. To enable this, set the <span class="emphasis"><em>parentViewController</em></span> property of the <code class="literal">AuthRequest</code> instance with the instance of UIViewController for your application.
			</p><pre class="programlisting language-swift">let request = FH.authRequest("MyOAuthPolicy") //"MyOAuthPolicy" should be replaced with policy id you created
request.parentViewController = viewController //Important, this will enable the built-in OAuth handler
request.exec({ (response: Response, error: NSError?) -&gt; Void in
  if let error = error {
    print("Error connecting \(error)")
    return
  }
  if let response = response.parsedResponse as? [String: String] {
    if let status = response["status"] where status == "ok" {
      print("Response \(response)")
    } else if let status = response["status"] where status == "error" {
      let message = response["message"] ?? ""
      print("OAuth failed \(message)")
    }
  }
})</pre><p>
				If the <code class="literal">parentViewController</code> property is not set, you will have the chance to handle this by your own code. For example:
			</p><pre class="programlisting language-swift">let request = FH.authRequest("MyOAuthPolicy") //"MyOAuthPolicy" should be replaced with policy id you created
request.exec({ (response: Response, error: NSError?) -&gt; Void in
  if let error = error {
    print("Error connecting \(error)")
    return
  }
  if let response = response.parsedResponse as? [String: String] {
    if let status = response["status"] where status == "ok" {
      print("Response \(response)")
      // because the parentViewController is not set, the response will contain a URL which
      // should be used for user to login. Normally it should be loaded into a WebView
      if let urlString = response["url"] {
        let url = NSURL(string: urlString)
        // load the url in a WebView, and then a series of redirects will happen
        // the last url will contain a string "status=complete"
        // and there will be a query parameter called "authResponse" in that url
        // the value of that parameter is the data returned from the OAuth provided (JSON stringified and URL encoded).
      }    } else if let status = response["status"] where status == "error" {
let message = response["message"] ?? ""
print("OAuth failed \(message)")
}
}
})</pre><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
					
<pre class="programlisting language-csharp">//Example to authenticate user using username and password
string authPolicy = "MyFeedHenryPolicy"; //"MyFeedHenryPolicy" should be replaced with policy id you created
string username = this.usernameField.Text;
string password = this.passwordField.Text;

FHResponse authRes = await FH.Auth(authPolicy, username, password);
if (null == authRes.Error)
{
    //user successfully logged in
}
else
{
    //login failed, show error
    ShowMessage(authRes.Error.Message);
}</pre>
				</p></div><p>
				If the auth policy type is OAuth, a UI component will be invoked to load the OAuth provider’s authentication page. It will know when the OAuth process is finished and will close itself automatically and pass the results back to your success or failure function.
			</p><pre class="programlisting language-csharp">string authPolicy = "TestGooglePolicy"; //"TestGooglePolicy" should be replaced with policy id you created
//When next line is executed, the user will be prompted with a new view to
//allow them enter their credentials on the OAuth provider's login page,
//and the result will be returned in FHResponse
FHResponse res = await FH.Auth(authPolicy);
if (null == res.Error)
{
    //user successfully logged in
}
else
{
    //login failed, show error
    ShowMessage(res.Error.Message);
}</pre><p>
				If you don’t want to use the default OAuth login handler provided by the SDK, you can provide your own implementation. All you have to do is to create an implementation for the <code class="literal">IOAuthClientHandlerService</code> interface, and use it like this:
			</p><pre class="programlisting language-csharp">//create a new instance of the custom IOAuthClientHandlerService
IOAuthClientHandlerService authHandler = new MyOAuthHandler();
//create a new auth request
FHAuthRequest authRequest = new FHAuthRequest();
authRequest.SetAuthPolicyId(policyId);
//set the request to use the custome oauth handler
authRequest.SetOAuthHandler(authHandler);
FHResponse res = await authRequest.execAsync();</pre></section><section class="section" id="validate-sessions"><div class="titlepage"><div><div><h2 class="title">1.2. Validate Sessions</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					To use this feature, you need to make sure the following versions of client and cloud SDKs are used:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							fh-js-sdk: &gt;= 2.6.0
						</li><li class="listitem">
							fh-ios-sdk: &gt;= 2.2.8
						</li><li class="listitem">
							fh-android-sdk: &gt;= 2.2.0
						</li><li class="listitem">
							fh-dotnet-sdk: &gt;= 1.2.0
						</li><li class="listitem">
							fh-mbaas-api: &gt;=4.10.0
						</li></ul></div></div></div><p>
				The <code class="literal">sessionToken</code> returned by the auth API will be persisted on the device, and will be added to all the <a class="link" href="#fh-cloud" title="Chapter 2. $fh.cloud">cloud API</a> calls afterwards automatically.
			</p><p>
				On the client side, new APIs are added to support session operations:
			</p><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
					
<pre class="programlisting language-javascript">//To check if user is already authenticated
$fh.auth.hasSession(function(err, exist){
  if(err) {
    console.log('Failed to check session');
    return;
  }
  if(exist){
    //user is already authenticated
    //optionally we can also verify the session is actually valid from client. This requires network connection.
    $fh.auth.verify(function(err, valid){
      if(err){
        console.log('failed to verify session');
        return;
      }
      if(valid){
        console.log('session is valid');
      } else {
        console.log('session is not valid');
      }
    });
  } else {
    //user is not authenticated
  }
});

//When the user is logging out, the session should be cleared
$fh.auth.clearSession(function(err){

});</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Java</strong></p><p>
					
<pre class="programlisting language-java">//To check if user is already authenticated
boolean exists = FHAuthSession.exists();
if (exists) {
    //user is already authenticated
    //optionally we can also verify the session is actually valid from client. This requires network connection.
    FHAuthSession.verify(new FHAuthSession.Callback() {
      @Override
      public void handleSuccess(final boolean isValid) {
        if (isValid) {
            //The session is valid, notify the application
            //You may now access the session token using FHAuthSession.getToken()
        } else {
            //The session is not valid. Clear the application's
            //state and authenticate again
          }
}


      @Override
      public void handleError(FHResponse resp) {
         //Something went wrong with the network call.
      }
  }, false);


} else {
    //Not logged in, notify the application.
}</pre>
				</p></div><p>
				Use <code class="literal">FHAuthSession.clear(boolean synchronous)</code> to log the client out of the platform. Note that this method performs network access. If it is called from the main looper, set the <code class="literal">synchronous</code> argument to <code class="literal">false</code> to prevent the network operation from blocking the looper thread and causing Android to throw a <code class="literal">NetworkOnMainThreadException</code>.
			</p><pre class="programlisting language-java">FHAuthSession.clear(false);</pre><pre class="programlisting language-objectivec">//To check if user is already authenticated
BOOL hasSession = [FH hasAuthSession];
if(hasSession) {
//optionally we can also verify the session is acutally valid from client. This requires network connection.
[FH verifyAuthSessionWithSuccess:nil AndFailure:nil];
}
//When the user is logging out, the session should be cleared
[FH clearAuthSessionWithSuccess:nil AndFailure:nil];</pre><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
					
<pre class="programlisting language-csharp">//To check if user is already authenticated
FHAuthSession session = FH.GetAuthSession();
Boolean exists = session.Exists();
//optionally we can also verify the session is actually valid from client. This requires network connection.
if(exists) {
  bool valid = await session.Verify();
}

//When the user is logging out, the session should be cleared
session.Clear();</pre>
				</p></div><p>
				There is also a middleware provided in the fh-mbaas-api module to validate the <code class="literal">sessionToken</code> in the requests. This will make it a lot easier to see if a request is from an authenticated user. All you have to do is something like this:
			</p><pre class="programlisting language-javascript">var mbaasExpress = require('fh-mbaas-api').mbaasExpress();
var express = require('express');
var router = new express.Router();
//This will protect the router and only accept requests from authenticated users.
//If a sessionToken is valid, you can choose to cache it so that it doesn't need to be checked again.
router.use(mbaasExpress.fhauth({cache: true, expire: 60*60}));</pre></section><section class="section" id="create-your-own-authentication-providers"><div class="titlepage"><div><div><h2 class="title">1.3. Create your own authentication providers</h2></div></div></div><p>
				With the introduction of <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/product-features/#auth-policies">mBaaS auth policy type</a>, you can now create your own authenticate providers.
			</p><p>
				All you have to do is to create a <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/product-features/#mbaas-services">mBaaS service</a> that will:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						perform the authentication
					</li><li class="listitem">
						return a JSON response containing a <code class="literal">sessionToken</code> key
					</li></ul></div><p>
				As described above, the <code class="literal">sessionToken</code> will then be added to all the cloud calls by the client SDK (via a header called <code class="literal">X-FH-SESSIONTOKEN</code>). However, since the <code class="literal">sessionToken</code> is generated by the mBaaS service, the session valdiation middleware provided in fh-mbaas-api will not work anymore. You need to provide your own middleware to verify the value of <code class="literal">sessionToken</code>. But it also means you can add more information to the requests during the validation process, for example, populate user information into the request objects as well.
			</p></section></section><section class="chapter" id="fh-cloud"><div class="titlepage"><div><div><h1 class="title">Chapter 2. $fh.cloud</h1></div></div></div><pre class="programlisting language-javascript">$fh.cloud(options, success, failure);</pre><p>
			Call <span class="emphasis"><em>ANY</em></span> cloud URLs which you have defined in the Cloud App using AJAX. For example, if you are using Express to defined endpoints in your Cloud Apps, you should use this API instead of $fh.act.
		</p><div class="itemizedlist" id="cloud-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Windows
						</li><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="cloud-example"><div class="titlepage"><div><div><h2 class="title">2.1. Example</h2></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
					
<pre class="programlisting language-javascript">$fh.cloud({
  "path": "/api/v1/user/create", //only the path part of the url, the host will be added automatically
  "method": "POST", //all other HTTP methods are supported as well. For example, HEAD, DELETE, OPTIONS
  "contentType": "application/json",
  "data": { "username": "testuser"}, //data to send to the server
  "timeout": 25000 // timeout value specified in milliseconds. Default: 60000 (60s)
}, function(res) {
  // Cloud call was successful. Alert the response
  alert('Got response from cloud:' + JSON.stringify(res));
}, function(msg,err) {
  // An error occurred during the cloud call. Alert some debugging information
  alert('Cloud call failed with error message:' + msg + '. Error properties:' + JSON.stringify(err));
});</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
					
<pre class="programlisting language-java">//build the request object with request path, method, headers and data
Header[] headers = new Header[1];
headers[0] = new BasicHeader("contentType", "application/json");
//The request should have a timeout of 25 seconds, 10 is the default
FHHttpClient.setTimeout(25000);
FHCloudRequest request = FH.buildCloudRequest("/api/v1/user/create", "POST", headers, new JSONObject().put("username", "testuser"));
//the request will be executed asynchronously
request.executeAsync(new FHActCallback() {
  @Override
  public void success(FHResponse res) {
    //the function to execute if the request is successful
    try{
      //process response data
    } catch(Exception e){
      Log.e(TAG, e.getMessage(), e);
    }
  }

  @Override
  public void fail(FHResponse res) {
    //the function to execute if the request is failed
    Log.e(TAG, res.getErrorMessage(), res.getError());
  }
});</pre>
				</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
					
<pre class="programlisting language-objectivec">NSDictionary * headers = [NSDictionary dictionaryWithObject:@"application/json" forKey:@"contentType"];
  NSDictionary * data = [NSDictionary dictionaryWithObject:@"testuser" forKey:@"username"];
  FHCloudRequest * action = (FHCloudRequest *) [FH buildCloudRequest:@"/api/v1/user/create" WithMethod:@"POST" AndHeaders:headers AndArgs:data];
  // change timeout (default value: 60s)
  action.requestTimeout = 25.0;
  [action execAsyncWithSuccess:^(FHResponse * actRes){
    //the actRes will contain 10 tweets about "feedhenry"
    //the JSON response from the cloud will be parsed to NSDictionary automatically
    NSDictionary * resData = actRes.parsedResponse;
    // ...
  } AndFailure:^(FHResponse * actFailRes){
    //if there is any error, you can check the rawResponse string
    NSLog(@"Failed to read tweets. Response = %@", actFailRes.rawResponse);
  }
];</pre>
				</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
					
<pre class="programlisting language-swift">        let args = ["key1": "value1", "key2": "value2"] as [String : AnyObject]
        FH.cloud(path: "/path",
                 method: HTTPMethod.POST,
                 args: args,
                 completionHandler: {(resp: Response, error: NSError?) -&gt; Void in
                    if error != nil {
                        print("Cloud Call Failed: " + (error?.localizedDescription)!)
                        return
                    }
                    if let parsedRes = resp.parsedResponse as? [String:String] {
                        print("Success: " + parsedRes["jsonKey"]!)
                    }
        })</pre>
				</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
					
<pre class="programlisting language-csharp">var headers = new Dictionary&lt;string, string&gt;; {{"contentType", "application/json"}};
var data = new Dictionary&lt;string, object&gt; {{"username", "testuser"}};

//change the timeout to 60 seconds, default is 30 seconds
FH.TimeOut = TimeSpan.FromSeconds(60);
var response = await FH.Cloud("/api/v1/user/create", "POST", headers, data);
if(null == response.Error)
{
    //no error occured, the request is successful
    var rawResponseData = response.RawResponse;
    //you can get it as JSONObject (require Json.Net library)
    var resJson = response.GetResponseAsJObject();
    //process response data
}
else
{
    //error occured during the request, deal with it.
    //More infomation can be access from response.Error.InnerException
}</pre>
				</p></div></section></section><section class="chapter" id="fh-getCloudURL"><div class="titlepage"><div><div><h1 class="title">Chapter 3. $fh.getCloudURL</h1></div></div></div><pre class="programlisting language-javascript">$fh.getCloudURL();</pre><p>
			Get the URL of the Cloud App that the current Client App is communicating with. Should only be used after the SDK is initialized.
		</p><p>
			Once you have the URL of the Cloud App, you can use any other HTTP/AJAX client to communicate with the Cloud App. However, the downside of this approach is that your app won’t be able to use the analytics service provided by the platform as some meta data is missing in the requests, or if the endpoints are secured, you will not be able to call them without providing the API keys.
		</p><p>
			To make it easier, the SDKs also have APIs to provide this meta data as request parameters or headers. You just need to get the data and add it to the requests either as part of the request body or request headers. See <a class="link" href="#fh-getFHParams" title="Chapter 4. $fh.getFHParams">$fh.getFHParams</a>.
		</p><div class="itemizedlist" id="cloud-app-url-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Windows
						</li><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="cloud-app-url-example"><div class="titlepage"><div><div><h2 class="title">3.1. Example</h2></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
					
<pre class="programlisting language-javascript">var cloud_url = $fh.getCloudURL();</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
					
<pre class="programlisting language-java">String cloudAppHost = FH.getCloudHost();</pre>
				</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
					
<pre class="programlisting language-objectivec">NSString * cloudAppHost = [FH getCloudHost];</pre>
				</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
					
<pre class="programlisting language-csharp">string cloudAppHost = FH.GetCloudHost();</pre>
				</p></div></section></section><section class="chapter" id="fh-getFHParams"><div class="titlepage"><div><div><h1 class="title">Chapter 4. $fh.getFHParams</h1></div></div></div><pre class="programlisting language-javascript">$fh.getFHParams();</pre><p>
			This method will return the meta data added by the FH SDK for each cloud request. If you choose to use another library to communicate with the Cloud App, you should add this data to the request body or as headers. To get the Cloud App url, see <a class="link" href="#fh-getCloudURL" title="Chapter 3. $fh.getCloudURL">$fh.getCloudURL</a>.
		</p><p>
			Normally, you don’t need to modify the meta data at all. But if you are interested, the meta data includes the following keys and values:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					appid: the id of the app
				</li><li class="listitem">
					appkey: the api key of the app
				</li><li class="listitem">
					projectid: the id of the project
				</li><li class="listitem">
					cuid: a unique id genereated for the client
				</li><li class="listitem">
					destination: the platform the Client App is running on. For example, iOS, Android, Web
				</li><li class="listitem">
					sdk_version: the version of the sdk
				</li><li class="listitem">
					connectiontag: connectiontag for the app
				</li></ul></div><p>
			If the meta data is sent in the request body, it should be the value of a special key called "__fh". See example below.
		</p><p>
			Some SDKs can provide this meta data as request headers. In this case, the name of each header will be like "X-FH-&lt;meta data name&gt;", for example, "X-FH-appid".
		</p><div class="itemizedlist" id="default-params-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Windows
						</li><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="default-params-example"><div class="titlepage"><div><div><h2 class="title">4.1. Example</h2></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
					
<pre class="programlisting language-javascript">var fhparams = $fh.getFHParams();
//then it should be added to your request body under the key "__fh"
body.__fh = fhparams;</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
					To get the request meta data as a JSON object:
				</p></div><pre class="programlisting language-java">JSONObject fhParams = FH.getDefaultParams();</pre><p>
				You can get the meta data as HTTP headers as well:
			</p><pre class="programlisting language-java">Header[] fhParamHeaders = FH.getDefaultParamsAsHeaders(null);</pre><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
					To get the request meta data as a NSDictionary:
				</p></div><pre class="programlisting language-objectivec">NSDictionary * fhParams = [FH getDefaultParams];</pre><p>
				You can get the meta data as HTTP headers in a NSDictionary:
			</p><pre class="programlisting language-objectivec">NSDictionary * fhParamHeaders = [FH getDefaultParamsAsHeaders];</pre><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
					To get the request meta data as a Dictionary:
				</p></div><pre class="programlisting language-csharp">  IDictionary &lt;string, object&gt; fhParams = FH.GetDefaultParams();</pre><p>
				You can get the meta data as HTTP headers in a Dictionary:
			</p><pre class="programlisting language-csharp">IDictionary &lt;string, string&gt; fhParamHeaders = FH.GetDefaultParamsAsHeaders();</pre></section></section><section class="chapter" id="fh-forms"><div class="titlepage"><div><div><h1 class="title">Chapter 5. $fh.forms</h1></div></div></div><p>
			To use <code class="literal">$fh.forms</code>, you must initialize it using <code class="literal">$fh.forms.init</code>. However, to use <code class="literal">$fh.forms.init</code>, you must call <code class="literal">$fh.init</code>.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				<code class="literal">$fh.init</code> must complete before using <code class="literal">$fh.forms.init</code>. For more information, see <a class="link" href="#fh-init" title="Chapter 7. $fh.init">fh-init</a>.
			</p></div></div><div class="itemizedlist" id="forms-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="sdk-structure"><div class="titlepage"><div><div><h2 class="title">5.1. SDK Structure</h2></div></div></div><section class="section" id="core"><div class="titlepage"><div><div><h3 class="title">5.1.1. Core</h3></div></div></div><p>
					<span class="inlinemediaobject"><img src="images/shared/images/forms_core_structure.png" alt="Core Structure"/></span>
				</p></section></section><section class="section" id="fh-forms-init"><div class="titlepage"><div><div><h2 class="title">5.2. $fh.forms.init</h2></div></div></div><pre class="programlisting language-javascript">$fh.forms.init(params, callback);</pre><section class="section" id="forms-details"><div class="titlepage"><div><div><h3 class="title">5.2.1. Details</h3></div></div></div><p>
					Initialise appForm SDK. Currently the params is not used so pass in empty JSON object. callback will be called when initialisation finished.
				</p></section><section class="section" id="forms-example"><div class="titlepage"><div><div><h3 class="title">5.2.2. Example</h3></div></div></div><pre class="programlisting language-javascript">var params = {};
$fh.forms.init(params, function(err) {
  if (err) console.error(err);

  // Forms initialised ok if no error
});</pre></section></section><section class="section" id="fh-forms-getforms"><div class="titlepage"><div><div><h2 class="title">5.3. $fh.forms.getForms</h2></div></div></div><pre class="programlisting language-javascript">$fh.forms.getForms(params, callback);</pre><section class="section" id="forms-details-1"><div class="titlepage"><div><div><h3 class="title">5.3.1. Details</h3></div></div></div><p>
					Retrieves an array of Form models. Can be loaded from the server if the 'fromRemote' parameter is set to true, or from local storage if set to false.
				</p></section><section class="section" id="forms-example-1"><div class="titlepage"><div><div><h3 class="title">5.3.2. Example</h3></div></div></div><pre class="programlisting language-javascript">var params = {
 "fromRemote": true
};

$fh.forms.getForms(params, function(err, forms){
  if(err) console.error(err);

  // forms is an instance of $fh.forms.models.forms
  // See Models section for details of its API
  // for example, getFormsList() returns an array of Forms models

  var formsList = forms.getFormsList();
  console.log(formsList);
});</pre></section></section><section class="section" id="fh-forms-getform"><div class="titlepage"><div><div><h2 class="title">5.4. $fh.forms.getForm</h2></div></div></div><pre class="programlisting language-javascript">$fh.forms.getForm(params, callback);</pre><section class="section" id="forms-details-2"><div class="titlepage"><div><div><h3 class="title">5.4.1. Details</h3></div></div></div><p>
					Retrieves a form based on a specified ID.
				</p></section><section class="section" id="forms-example-2"><div class="titlepage"><div><div><h3 class="title">5.4.2. Example</h3></div></div></div><pre class="programlisting language-javascript">var params = {
 "fromRemote" : true,
 "formId" : "1234"
};

$fh.forms.getForm(params, function(err, form){
if(err) console.error(err);

var formName = form.getName();
var formDesc = form.getDescription();
console.log('Form Name: ', formName, 'Form Desc: ', formDesc);
});</pre></section></section><section class="section" id="fh-forms-gettheme"><div class="titlepage"><div><div><h2 class="title">5.5. $fh.forms.getTheme</h2></div></div></div><pre class="programlisting language-javascript">$fh.forms.getTheme(params, callback);</pre><section class="section" id="forms-details-3"><div class="titlepage"><div><div><h3 class="title">5.5.1. Details</h3></div></div></div><p>
					Retrieves a theme. If the 'css' parameter is set to true, css is returned. If it is set to false, a Theme object is returned.
				</p></section><section class="section" id="forms-example-3"><div class="titlepage"><div><div><h3 class="title">5.5.2. Example</h3></div></div></div><pre class="programlisting language-javascript">var params = {
 "css" : true //if set to true, returns css.
};

$fh.forms.getTheme(params, function(err, theme){
if(err) console.error(err);

console.log(theme);
});</pre></section></section><section class="section" id="fh-forms-getsubmissions"><div class="titlepage"><div><div><h2 class="title">5.6. $fh.forms.getSubmissions</h2></div></div></div><pre class="programlisting language-javascript">$fh.forms.getSubmissions(options, callback);</pre><section class="section" id="forms-details-4"><div class="titlepage"><div><div><h3 class="title">5.6.1. Details</h3></div></div></div><p>
					Returns a list of submissions that have been successfully completed.
				</p></section><section class="section" id="forms-example-4"><div class="titlepage"><div><div><h3 class="title">5.6.2. Example</h3></div></div></div><pre class="programlisting language-javascript">var params = {};

$fh.forms.getSubmissions(params, function (err, submissions) {
  if (err) console.error(err);

  console.log('Array of completed submissions', submissions);
});</pre></section></section><section class="section" id="fh-forms-downloadsubmission"><div class="titlepage"><div><div><h2 class="title">5.7. $fh.forms.downloadSubmission</h2></div></div></div><section class="section" id="forms-details-5"><div class="titlepage"><div><div><h3 class="title">5.7.1. Details</h3></div></div></div><p>
					Triggers the download of a submission.
				</p><p>
					There are two forms of this API.
				</p></section><section class="section" id="example-callback-passed"><div class="titlepage"><div><div><h3 class="title">5.7.2. Example: Callback Passed</h3></div></div></div><p>
					In this example, passing a callback to the <span class="emphasis"><em>$fh.forms.downloadSubmission</em></span> function means that the callback will only be called when the submission, including all files, has fully completed downloading.
				</p><pre class="programlisting language-javascript">var params = {
  'submissionId': "&lt;&lt; ID of the submission stored in the cloud &gt;&gt;"
};

//Downloading the submission.
//If the submission has already been downloaded to local memory, it will be loaded from there instead of downloading from the cloud.
$fh.forms.downloadSubmission(params, function(err, downloadedSubmission){
  if(err){
    return console.error(err);
  }

  //The form that the submission was submitted against is sent back with the submission from the cloud.
  var formSubmittedAgainst = downloadedSubmission.getFormSubmittedAgainst();
  var formId = downloadedSubmission.getFormId();
});</pre></section><section class="section" id="example-callback-not-passed"><div class="titlepage"><div><div><h3 class="title">5.7.3. Example: Callback Not Passed</h3></div></div></div><p>
					In this example, not passing a callback will queue the submission for download. Global event listeners can then be used to monitor the download progress.
				</p><pre class="programlisting language-javascript">var params = {
  'submissionId': "&lt;&lt; ID of the submission stored in the cloud &gt;&gt;"
};

//A global event listener for all submission 'downloaded' events
$fh.forms.on('submission:downloaded', function(remoteSubmissionId){
  //The form that the submission was submitted against is sent back with the submission from the cloud.
  var formSubmittedAgainst = this.getFormSubmittedAgainst();
  var formId = this.getFormId();
});

//A global event listener for all submission 'error' events
$fh.forms.on('submission:error', function(errorMessage){
  var localId = this.getLocalId();

  console.error(errorMessage + " for submission with local ID " + localId);
});

//Downloading the submission.
//If the submission has already been downloaded to local memory, it will be loaded from there instead of downloading from the cloud.
$fh.forms.downloadSubmission(params);</pre></section></section><section class="section" id="fh-forms-log"><div class="titlepage"><div><div><h2 class="title">5.8. $fh.forms.log</h2></div></div></div><pre class="programlisting language-javascript">$fh.forms.log.e(message); //logs an error
$fh.forms.log.w(message); //logs a warning
$fh.forms.log.d(message); //logs a debug message
$fh.forms.log.l(message); //logs success</pre><section class="section" id="forms-details-6"><div class="titlepage"><div><div><h3 class="title">5.8.1. Details</h3></div></div></div><p>
					There are 4 types of logs:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Error: $fh.forms.log.e('error');
						</li><li class="listitem">
							Warning: $fh.forms.log.w('warning');
						</li><li class="listitem">
							Debug: $fh.forms.log.d('debug');
						</li><li class="listitem">
							Log: $fh.forms.log.l('successful log');
						</li></ul></div></section><section class="section" id="forms-example-5"><div class="titlepage"><div><div><h3 class="title">5.8.2. Example</h3></div></div></div><pre class="programlisting language-javascript">var params = {
 'fromRemote' : true
};

$fh.forms.getForms(params, function(err, formsList){
if(error) $fh.forms.log.e(err); //log error

console.log('Lit of forms: ', formsList.getFormsList());
  $fh.forms.log.l('Forms loaded successfully'); //log successfuly loading of forms
});</pre></section></section><section class="section" id="fh-forms-getlogs"><div class="titlepage"><div><div><h2 class="title">5.9. $fh.forms.getLogs</h2></div></div></div><pre class="programlisting language-javascript">$fh.forms.log.getLogs();</pre><section class="section" id="forms-details-7"><div class="titlepage"><div><div><h3 class="title">5.9.1. Details</h3></div></div></div><p>
					Returns log information.
				</p><pre class="programlisting language-javascript">$fh.forms.getSubmissions({}, function (err, submissions) {
  if (err) {
    console.log('Error loading submissions', err);
  } else {
    $fh.forms.log.l('Array loaded successfully') //Recorded log
    console.log('Array of completed submissions', submissions);


    var logRecords = $fh.forms.log.getLogs();
    console.log('Log Record', logRecords); //Prints out an array of all logs
  }
});</pre></section></section><section class="section" id="global-events"><div class="titlepage"><div><div><h2 class="title">5.10. Global Events</h2></div></div></div><section class="section" id="forms-details-8"><div class="titlepage"><div><div><h3 class="title">5.10.1. Details</h3></div></div></div><p>
					The $fh.forms API provides a global event emitter for all events that occur in the $fh.forms API.
				</p><p>
					The event name is defined in the format <code class="literal">model:eventname</code>. For example, if the <code class="literal">Submission</code> model emits the <code class="literal">submitted</code> event, the global event name would be <code class="literal">submission:submitted</code>. This event would fire whenever any submissions has been submitted and uploaded.
				</p></section><section class="section" id="fh-forms-on"><div class="titlepage"><div><div><h3 class="title">5.10.2. $fh.forms.on</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.on("submission:progress", function(progressJSON) {
    //See Submission Model Progress For progressJSON Definition
});</pre></section><section class="section" id="fh-forms-once"><div class="titlepage"><div><div><h3 class="title">5.10.3. $fh.forms.once</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.once("submission:submitted", function(submissionId) {
    //Note: this refers to the individual submission that emitted the submitted event.
    assert.equal(this.getRemoteSubmissionId(), submissionId);
});</pre></section></section><section class="section" id="fh-forms-models-forms"><div class="titlepage"><div><div><h2 class="title">5.11. $fh.forms.models.forms</h2></div></div></div><section class="section" id="forms-details-9"><div class="titlepage"><div><div><h3 class="title">5.11.1. Details</h3></div></div></div><p>
					This is a list of Form models returned by $fh.forms.getForms(). The functions listed below can be called on the returned Form Models array.
				</p></section><section class="section" id="fh-forms-models-forms-clearallforms"><div class="titlepage"><div><div><h3 class="title">5.11.2. $fh.forms.models.forms.clearAllForms</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.forms.clearAllForms(cb);</pre><section class="section" id="forms-details-10"><div class="titlepage"><div><div><h4 class="title">5.11.2.1. Details</h4></div></div></div><p>
						Clear all local forms.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This function is currently being implemented
						</p></div></div></section><section class="section" id="forms-example-6"><div class="titlepage"><div><div><h4 class="title">5.11.2.2. Example</h4></div></div></div><pre class="programlisting language-javascript">formsList.clearAllForms(function(err) {
    if (err) {
        console.log('Error deleting forms', err);
    } else {
        console.log('Reloading forms list', formsList.getFormsList()); //will return empty list
    }
});</pre></section></section><section class="section" id="fh-forms-models-forms-isformupdated"><div class="titlepage"><div><div><h3 class="title">5.11.3. $fh.forms.models.forms.isFormUpdated</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.forms.isFormUpdated(formModel);</pre><section class="section" id="forms-details-11"><div class="titlepage"><div><div><h4 class="title">5.11.3.1. Details</h4></div></div></div><p>
						Check if a specific form model is up to date.
					</p></section><section class="section" id="forms-example-7"><div class="titlepage"><div><div><h4 class="title">5.11.3.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var model = new $fh.forms.models.Form();
var updated = $fh.forms.models.forms.isFormUpdated(model);
console.log(updated);</pre></section></section><section class="section" id="fh-forms-models-forms-getformmetabyid"><div class="titlepage"><div><div><h3 class="title">5.11.4. $fh.forms.models.forms.getFormMetaById</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.forms.getFormMetaById(formId)</pre><section class="section" id="forms-details-12"><div class="titlepage"><div><div><h4 class="title">5.11.4.1. Details</h4></div></div></div><p>
						Get form meta object by formId.
					</p></section><section class="section" id="forms-example-8"><div class="titlepage"><div><div><h4 class="title">5.11.4.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var exampleFormId = '1234';

var params = {
 'fromRemote' : true
};

$fh.forms.getForms(params, function(err, formsList){
if(err) console.error(err);

var formDetails = formsList.getFormMetaById(exampleFormId); //gets meta object from forms list based on id
console.log(formDetails);
});</pre></section></section><section class="section" id="fh-forms-models-forms-refresh"><div class="titlepage"><div><div><h3 class="title">5.11.5. $fh.forms.models.forms.refresh</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.forms.refresh(fromRemote, cb);</pre><section class="section" id="forms-details-13"><div class="titlepage"><div><div><h4 class="title">5.11.5.1. Details</h4></div></div></div><p>
						Read form list model from local or remote forcely. It will store to local storage automatically if it does not exist.
					</p></section><section class="section" id="forms-example-9"><div class="titlepage"><div><div><h4 class="title">5.11.5.2. Example</h4></div></div></div><pre class="programlisting language-javascript">formsList.refresh(true, function (err) { //if fromRemote == true, forms are read from server.
// If false, reads from local storage
  if (err) {
    console.log('Error refreshing form', err);
  } else {
    console.log('Refreshed form list', formsList); //prints newly refrehsed list
  }
});</pre></section></section><section class="section" id="fh-forms-models-forms-clearlocal"><div class="titlepage"><div><div><h3 class="title">5.11.6. $fh.forms.models.forms.clearLocal</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.forms.clearLocal(cb);</pre><section class="section" id="forms-details-14"><div class="titlepage"><div><div><h4 class="title">5.11.6.1. Details</h4></div></div></div><p>
						Removes model from local storage but not from RAM.
					</p></section><section class="section" id="forms-example-10"><div class="titlepage"><div><div><h4 class="title">5.11.6.2. Example</h4></div></div></div><pre class="programlisting language-javascript">formsList.clearLocal(function (err) {
  if (err) {
    console.log('Error occurred clearing forms from local storage', err);
  } else {
    console.log('Reloading forms', formsList.getFormsList());
  }
});</pre></section></section><section class="section" id="fh-forms-models-forms-getformslist"><div class="titlepage"><div><div><h3 class="title">5.11.7. $fh.forms.models.forms.getFormsList</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.forms.getFormsList();</pre><section class="section" id="forms-details-15"><div class="titlepage"><div><div><h4 class="title">5.11.7.1. Details</h4></div></div></div><p>
						Retrieve an array containing forms meta data.
					</p></section><section class="section" id="forms-example-11"><div class="titlepage"><div><div><h4 class="title">5.11.7.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  'fromRemote': true
};

$fh.forms.getForms(params, function (err, formsList) {
  if (err) console.error(err);

  var forms = formsList.getFormsList();
  console.log(forms);
});</pre></section></section><section class="section" id="fh-forms-models-forms-size"><div class="titlepage"><div><div><h3 class="title">5.11.8. $fh.forms.models.forms.size</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.forms.size();</pre><section class="section" id="forms-details-16"><div class="titlepage"><div><div><h4 class="title">5.11.8.1. Details</h4></div></div></div><p>
						Retrieve the number of forms stored.
					</p></section><section class="section" id="forms-example-12"><div class="titlepage"><div><div><h4 class="title">5.11.8.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "fromRemote": true
};

$fh.forms.getForms(params, function (err, formsList) {
  if (err) console.error.(err);

  var numOfForms = formsList.size();
  console.log(numOfForms);
});</pre></section></section></section><section class="section" id="fh-forms-models-form"><div class="titlepage"><div><div><h2 class="title">5.12. $fh.forms.models.Form</h2></div></div></div><section class="section" id="forms-details-17"><div class="titlepage"><div><div><h3 class="title">5.12.1. Details</h3></div></div></div><p>
					This is a Form model. A list of Form models is returned by calling forms.getFormsList().
				</p></section><section class="section" id="fh-forms-models-form-constructor"><div class="titlepage"><div><div><h3 class="title">5.12.2. $fh.forms.models.Form.constructor()</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.Form(params,cb);</pre><section class="section" id="forms-details-18"><div class="titlepage"><div><div><h4 class="title">5.12.2.1. Details</h4></div></div></div><p>
						Construct a Form object. Callback when form definition is loaded.
					</p></section><section class="section" id="forms-example-13"><div class="titlepage"><div><div><h4 class="title">5.12.2.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": ”1234”,
  "fromRemote": true
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  // new form model
  console.log(form);
});</pre></section></section><section class="section" id="fh-forms-models-form-getlastupdate"><div class="titlepage"><div><div><h3 class="title">5.12.3. $fh.forms.models.Form.getLastUpdate()</h3></div></div></div><pre class="programlisting language-javascript">form.getLastUpdate();</pre><section class="section" id="forms-details-19"><div class="titlepage"><div><div><h4 class="title">5.12.3.1. Details</h4></div></div></div><p>
						Retrieve last updated timestamp on server.
					</p></section><section class="section" id="forms-example-14"><div class="titlepage"><div><div><h4 class="title">5.12.3.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": ”1234”,
  "fromRemote": true
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  var lastUpdate = form.getLastUpdate();
  console.log(lastUpdate);
});</pre></section></section><section class="section" id="fh-forms-models-form-getpagemodellist"><div class="titlepage"><div><div><h3 class="title">5.12.4. $fh.forms.models.Form.getPageModelList()</h3></div></div></div><pre class="programlisting language-javascript">form.getPageModelList();</pre><section class="section" id="forms-details-20"><div class="titlepage"><div><div><h4 class="title">5.12.4.1. Details</h4></div></div></div><p>
						Retrieve an array of page models associated to this form.
					</p></section><section class="section" id="forms-example-15"><div class="titlepage"><div><div><h4 class="title">5.12.4.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": "1234",
  "fromRemote": true
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  var pageList = form.getPageModelList();
  console.log('Array of pages associated with this form', pageList);
});</pre></section><section class="section" id="fh-forms-models-form-getruleengine"><div class="titlepage"><div><div><h4 class="title">5.12.4.3. fh.forms.models.Form.getRuleEngine()</h4></div></div></div><pre class="programlisting language-javascript">form.getRuleEngine();</pre></section><section class="section" id="forms-details-21"><div class="titlepage"><div><div><h4 class="title">5.12.4.4. Details</h4></div></div></div><p>
						Retrieve rule engine attached to the form().
					</p></section><section class="section" id="forms-example-16"><div class="titlepage"><div><div><h4 class="title">5.12.4.5. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": 1234,
  "fromRemote": true
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  var ruleEngine = form.getRuleEngine();
  console.log(ruleEngine);
});</pre></section></section><section class="section" id="fh-forms-models-form-getname"><div class="titlepage"><div><div><h3 class="title">5.12.5. $fh.forms.models.Form.getName()</h3></div></div></div><pre class="programlisting language-javascript">form.getName();</pre><section class="section" id="forms-details-22"><div class="titlepage"><div><div><h4 class="title">5.12.5.1. Details</h4></div></div></div><p>
						Retrieve form name.
					</p></section><section class="section" id="forms-example-17"><div class="titlepage"><div><div><h4 class="title">5.12.5.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": "1234",
  "fromRemote": true
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  var formName = form.getName();
  console.log(formName);
});</pre></section></section><section class="section" id="fh-forms-models-form-getdescription"><div class="titlepage"><div><div><h3 class="title">5.12.6. $fh.forms.models.Form.getDescription()</h3></div></div></div><pre class="programlisting language-javascript">form.getDescription();</pre><section class="section" id="forms-details-23"><div class="titlepage"><div><div><h4 class="title">5.12.6.1. Details</h4></div></div></div><p>
						Retrieve form description.
					</p></section><section class="section" id="forms-example-18"><div class="titlepage"><div><div><h4 class="title">5.12.6.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": "1234",
  "fromRemote": true
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  var formDescription = form.getDescription();
  console.log(formDescription);
});</pre></section></section><section class="section" id="fh-forms-models-form-getformid"><div class="titlepage"><div><div><h3 class="title">5.12.7. $fh.forms.models.Form.getFormId()</h3></div></div></div><pre class="programlisting language-javascript">form.getFormId();</pre><section class="section" id="forms-details-24"><div class="titlepage"><div><div><h4 class="title">5.12.7.1. Details</h4></div></div></div><p>
						Retrieve form Id.
					</p></section><section class="section" id="forms-example-19"><div class="titlepage"><div><div><h4 class="title">5.12.7.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": "1234",
  "fromRemote": true
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  var formId = form.getId();
  console.log(formId);
});</pre></section></section><section class="section" id="fh-forms-models-form-getfieldmodelbyid"><div class="titlepage"><div><div><h3 class="title">5.12.8. $fh.forms.models.Form.getFieldModelById()</h3></div></div></div><pre class="programlisting language-javascript">form.getFieldModelById(fieldId);</pre><section class="section" id="forms-details-25"><div class="titlepage"><div><div><h4 class="title">5.12.8.1. Details</h4></div></div></div><p>
						Retrieve field model by field id.
					</p></section><section class="section" id="forms-example-20"><div class="titlepage"><div><div><h4 class="title">5.12.8.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
  "formId": "1234",
  "fromRemote": true,
  "fieldId": "123"
};

$fh.forms.getForm(params, function (err, form) {
  if (err) console.error(err);

  var fieldModel = form.getFieldModelById(fieldId);
  console.log(fieldModel);
});</pre></section></section><section class="section" id="fh-forms-models-form-newsubmission"><div class="titlepage"><div><div><h3 class="title">5.12.9. $fh.forms.models.Form.newSubmission()</h3></div></div></div><pre class="programlisting language-javascript">form.newSubmission();</pre><section class="section" id="forms-details-26"><div class="titlepage"><div><div><h4 class="title">5.12.9.1. Details</h4></div></div></div><p>
						Initialise a new submission model for this form.
					</p></section><section class="section" id="forms-example-21"><div class="titlepage"><div><div><h4 class="title">5.12.9.2. Example</h4></div></div></div><pre class="programlisting language-javascript">form.newSubmission(); //creates a new submission</pre></section></section><section class="section" id="fh-forms-models-form-removefromcache"><div class="titlepage"><div><div><h3 class="title">5.12.10. $fh.forms.models.Form.removeFromCache()</h3></div></div></div><pre class="programlisting language-javascript">form.removeFromCache();</pre><section class="section" id="forms-details-27"><div class="titlepage"><div><div><h4 class="title">5.12.10.1. Details</h4></div></div></div><p>
						Remove current form model from memory cache (singleton).
					</p></section><section class="section" id="forms-example-22"><div class="titlepage"><div><div><h4 class="title">5.12.10.2. Example</h4></div></div></div><pre class="programlisting language-javascript">form.removeFromCache();</pre></section></section><section class="section" id="fh-forms-models-form-refresh"><div class="titlepage"><div><div><h3 class="title">5.12.11. $fh.forms.models.Form.refresh()</h3></div></div></div><pre class="programlisting language-javascript">form.refresh([fromRemote], cb);</pre><section class="section" id="forms-details-28"><div class="titlepage"><div><div><h4 class="title">5.12.11.1. Details</h4></div></div></div><p>
						Read form model from local memory or remote forcely. It will sotre to local storage automatically if it does not exist.
					</p></section><section class="section" id="forms-example-23"><div class="titlepage"><div><div><h4 class="title">5.12.11.2. Example</h4></div></div></div><pre class="programlisting language-javascript">form.refresh(true, function (err) {
  if (err) {
    console.log('Error refreshing', err);
  } else {
    console.log('Refreshed page');
    //refresh successful
  }
});</pre></section></section><section class="section" id="fh-forms-models-form-clearlocal"><div class="titlepage"><div><div><h3 class="title">5.12.12. $fh.forms.models.Form.clearLocal()</h3></div></div></div><pre class="programlisting language-javascript">form.clearLocal(cb)</pre><section class="section" id="forms-details-29"><div class="titlepage"><div><div><h4 class="title">5.12.12.1. Details</h4></div></div></div><p>
						Remove locally stored Form.
					</p></section><section class="section" id="forms-example-24"><div class="titlepage"><div><div><h4 class="title">5.12.12.2. Example</h4></div></div></div><pre class="programlisting language-javascript">foundForm.clearLocal(function (err) {
  if (err) {
   console.log('Error removing form');
  } else {
   //form cleared successfully
  }
});</pre></section></section></section><section class="section" id="fh-forms-models-page"><div class="titlepage"><div><div><h2 class="title">5.13. $fh.forms.models.Page</h2></div></div></div><section class="section" id="forms-details-30"><div class="titlepage"><div><div><h3 class="title">5.13.1. Details</h3></div></div></div><p>
					Listed below are the functions that can be called on a Page model.
				</p></section><section class="section" id="fh-forms-models-page-setvisible"><div class="titlepage"><div><div><h3 class="title">5.13.2. $fh.forms.models.Page.setVisible()</h3></div></div></div><pre class="programlisting language-javascript">page.setVisible(isVisible);</pre><section class="section" id="forms-details-31"><div class="titlepage"><div><div><h4 class="title">5.13.2.1. Details</h4></div></div></div><p>
						Set if this page model should be visible or not. Will emit ‘visible’ or ‘hidden’ based on whether the boolean value 'isVisible' is set to true or false.
					</p></section><section class="section" id="forms-example-25"><div class="titlepage"><div><div><h4 class="title">5.13.2.2. Example</h4></div></div></div><pre class="programlisting language-javascript">page.setVisible(true) //Boolean value to determine whether page is set to visible or not.</pre></section></section><section class="section" id="fh-forms-models-page-getname"><div class="titlepage"><div><div><h3 class="title">5.13.3. $fh.forms.models.Page.getName()</h3></div></div></div><pre class="programlisting language-javascript">page.getName();</pre><section class="section" id="forms-details-32"><div class="titlepage"><div><div><h4 class="title">5.13.3.1. Details</h4></div></div></div><p>
						Retrieves page name.
					</p></section><section class="section" id="forms-example-26"><div class="titlepage"><div><div><h4 class="title">5.13.3.2. Example</h4></div></div></div><pre class="programlisting language-javascript"> var pageList = foundForm.getPageModelList(); //Iterates through all pages of a returned form and prints out page names
 for (var page = 0; page &lt; pageList.length; page++) {
   var currentPage = pageList[page];
   console.log('Name of current page is: ', currentPage.getName());
 }</pre></section></section><section class="section" id="fh-forms-models-page-getdescription"><div class="titlepage"><div><div><h3 class="title">5.13.4. $fh.forms.models.Page.getDescription()</h3></div></div></div><pre class="programlisting language-javascript">page.getDescription();</pre><section class="section" id="description"><div class="titlepage"><div><div><h4 class="title">5.13.4.1. Description</h4></div></div></div><p>
						Retrieve page description.
					</p></section><section class="section" id="forms-example-27"><div class="titlepage"><div><div><h4 class="title">5.13.4.2. Example</h4></div></div></div><pre class="programlisting language-javascript">page.getDescription();</pre></section></section><section class="section" id="fh-forms-models-page-getfieldmodellist"><div class="titlepage"><div><div><h3 class="title">5.13.5. $fh.forms.models.Page.getFieldModelList()</h3></div></div></div><pre class="programlisting language-javascript">page.getFieldModelList();</pre><section class="section" id="forms-details-33"><div class="titlepage"><div><div><h4 class="title">5.13.5.1. Details</h4></div></div></div><p>
						Retrieve field models associated to this page.
					</p></section><section class="section" id="forms-example-28"><div class="titlepage"><div><div><h4 class="title">5.13.5.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var pageList = form.getPageModelList(); //Retrieves all pages of a form

for (var page = 0; page &lt; pageList.length; page++) { //Iterates through all pages
  var currentPage = pageList[page];
  var pageFields = currentPage.getFieldModelList(); //Retrieves all fields on a page
  console.log(pageFields); //Lists all fields
}</pre></section></section><section class="section" id="fh-forms-models-page-getfieldmodelbyid"><div class="titlepage"><div><div><h3 class="title">5.13.6. $fh.forms.models.Page.getFieldModelById()</h3></div></div></div><pre class="programlisting language-javascript">page.getFieldModelById(fieldId);</pre><section class="section" id="forms-details-34"><div class="titlepage"><div><div><h4 class="title">5.13.6.1. Details</h4></div></div></div><p>
						Retrieve a specific field model. The field model does not need to be in this page. Alias of Form.getFieldModelById(fieldId).
					</p></section><section class="section" id="forms-example-29"><div class="titlepage"><div><div><h4 class="title">5.13.6.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var fieldId = '1234';

page.getFieldModelById(fieldId); //Returns Field model</pre></section></section></section><section class="section" id="fh-forms-models-field"><div class="titlepage"><div><div><h2 class="title">5.14. $fh.forms.models.Field</h2></div></div></div><section class="section" id="forms-details-35"><div class="titlepage"><div><div><h3 class="title">5.14.1. Details</h3></div></div></div><p>
					A list of Field objects can be returned by calling the getFieldModelList() function on a Page model.
				</p><pre class="programlisting language-javascript">pageOne.getFieldModelList();</pre><p>
					Listed below are a set of functions that can be called to access various attributes of a Field model.
				</p></section><section class="section" id="fh-forms-models-field-isrequired"><div class="titlepage"><div><div><h3 class="title">5.14.2. $fh.forms.models.Field.isRequired()</h3></div></div></div><pre class="programlisting language-javascript">currentField.isRequired();</pre><section class="section" id="forms-details-36"><div class="titlepage"><div><div><h4 class="title">5.14.2.1. Details</h4></div></div></div><p>
						Returns true if the field is a required field.
					</p></section><section class="section" id="forms-example-30"><div class="titlepage"><div><div><h4 class="title">5.14.2.2. Example</h4></div></div></div><pre class="programlisting language-javascript">currentField.isRequired(); //will return true if the field is required</pre></section></section><section class="section" id="fh-forms-models-field-isrepeating"><div class="titlepage"><div><div><h3 class="title">5.14.3. $fh.forms.models.Field.isRepeating()</h3></div></div></div><pre class="programlisting language-javascript">field.isRepeating();</pre><section class="section" id="forms-details-37"><div class="titlepage"><div><div><h4 class="title">5.14.3.1. Details</h4></div></div></div><p>
						Returns true if the field is a repeating field, or false if the field is not a repeating field.
					</p></section><section class="section" id="forms-example-31"><div class="titlepage"><div><div><h4 class="title">5.14.3.2. Example</h4></div></div></div><pre class="programlisting language-javascript">field.isRepeating();</pre></section></section><section class="section" id="fh-forms-models-field-gettype"><div class="titlepage"><div><div><h3 class="title">5.14.4. $fh.forms.models.Field.getType()</h3></div></div></div><pre class="programlisting language-javascript">field.getType();</pre><section class="section" id="forms-details-38"><div class="titlepage"><div><div><h4 class="title">5.14.4.1. Details</h4></div></div></div><p>
						Returns the type of the field.
					</p></section><section class="section" id="forms-example-32"><div class="titlepage"><div><div><h4 class="title">5.14.4.2. Example</h4></div></div></div><pre class="programlisting language-javascript">field.getType();</pre></section></section><section class="section" id="fh-forms-models-field-getname"><div class="titlepage"><div><div><h3 class="title">5.14.5. $fh.forms.models.Field.getName()</h3></div></div></div><pre class="programlisting language-javascript">field.getName();</pre><section class="section" id="forms-details-39"><div class="titlepage"><div><div><h4 class="title">5.14.5.1. Details</h4></div></div></div><p>
						Returns the name of the field.
					</p><pre class="programlisting language-javascript">console.log(field.getName()); //pritns name of field</pre></section></section><section class="section" id="fh-forms-models-field-getcode"><div class="titlepage"><div><div><h3 class="title">5.14.6. $fh.forms.models.Field.getCode()</h3></div></div></div><pre class="programlisting language-javascript">field.getCode();</pre><section class="section" id="forms-details-40"><div class="titlepage"><div><div><h4 class="title">5.14.6.1. Details</h4></div></div></div><p>
						Returns the Field Code for a field if it exists. If the field was not assigned a field code in the Studio <code class="literal">null</code> is returned.
					</p></section></section><section class="section" id="fh-forms-models-field-gethelptext"><div class="titlepage"><div><div><h3 class="title">5.14.7. $fh.forms.models.Field.getHelpText()</h3></div></div></div><pre class="programlisting language-javascript">field.getHelpText();</pre><section class="section" id="forms-details-41"><div class="titlepage"><div><div><h4 class="title">5.14.7.1. Details</h4></div></div></div><p>
						Returns field instruction text.
					</p></section><section class="section" id="forms-example-33"><div class="titlepage"><div><div><h4 class="title">5.14.7.2. Example</h4></div></div></div><pre class="programlisting language-javascript">field.getHelpText();</pre></section></section><section class="section" id="fh-forms-models-field-validateinputvalue"><div class="titlepage"><div><div><h3 class="title">5.14.8. $fh.forms.models.Field.validate(inputValue)</h3></div></div></div><pre class="programlisting language-javascript">field.validate(inputValue, callback(err,res))</pre><section class="section" id="forms-details-42"><div class="titlepage"><div><div><h4 class="title">5.14.8.1. Details</h4></div></div></div><p>
						Returns the inputValue object if validation is successful, or an error message if validation fails.
					</p></section><section class="section" id="forms-example-34"><div class="titlepage"><div><div><h4 class="title">5.14.8.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var field = form.getFieldModelById(fieldId);
var inputValue = elem.value; //Value of an element such as text field, numberfield etc

field.validate(inputValue, function (err, res) {
  if (err) {
    console.log('Validation Error', err);
  } else {
    console.log('Validation Successful', res);
  }
});</pre></section></section><section class="section" id="fh-forms-models-field-getrules"><div class="titlepage"><div><div><h3 class="title">5.14.9. $fh.forms.models.Field.getRules()</h3></div></div></div><pre class="programlisting language-javascript">field.getRules();</pre><section class="section" id="forms-details-43"><div class="titlepage"><div><div><h4 class="title">5.14.9.1. Details</h4></div></div></div><p>
						Returns an array of rule objects that are associated with the field.
					</p></section><section class="section" id="forms-example-35"><div class="titlepage"><div><div><h4 class="title">5.14.9.2. Example</h4></div></div></div><pre class="programlisting language-javascript">field.getRules();</pre></section></section><section class="section" id="fh-forms-models-field-getcheckboxoptions"><div class="titlepage"><div><div><h3 class="title">5.14.10. $fh.forms.models.Field.getCheckboxOptions()</h3></div></div></div><pre class="programlisting language-javascript">field.getCheckboxOptions();</pre><section class="section" id="forms-details-44"><div class="titlepage"><div><div><h4 class="title">5.14.10.1. Details</h4></div></div></div><p>
						Retuns an array of check box choices.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Only valid for check boxes field
						</p></div></div></section><section class="section" id="forms-example-36"><div class="titlepage"><div><div><h4 class="title">5.14.10.2. Example</h4></div></div></div><pre class="programlisting language-javascript">if (field.getType() == 'checkboxes') {
  console.log('Checkbox options: ', field.getCheckBoxOptions());
}</pre></section></section><section class="section" id="fh-forms-models-field-getradiooption"><div class="titlepage"><div><div><h3 class="title">5.14.11. $fh.forms.models.Field.getRadioOption()</h3></div></div></div><pre class="programlisting language-javascript">field.getRadioOption();</pre><section class="section" id="forms-details-45"><div class="titlepage"><div><div><h4 class="title">5.14.11.1. Details</h4></div></div></div><p>
						Returns radio box options.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Only valid for radio field
						</p></div></div></section><section class="section" id="forms-example-37"><div class="titlepage"><div><div><h4 class="title">5.14.11.2. Example</h4></div></div></div><pre class="programlisting language-javascript">if (field.getType() == 'radio') {
  console.log('Radio options: ', field.getRadioOption());
}</pre></section></section></section><section class="section" id="fh-forms-models-submissions"><div class="titlepage"><div><div><h2 class="title">5.15. $fh.forms.models.submissions</h2></div></div></div><section class="section" id="fh-forms-models-submissions-getsubmissions"><div class="titlepage"><div><div><h3 class="title">5.15.1. $fh.forms.models.submissions.getSubmissions()</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.submissions.getSubmissions();</pre><section class="section" id="forms-details-46"><div class="titlepage"><div><div><h4 class="title">5.15.1.1. Details</h4></div></div></div><p>
						Returns a list of submission meta data.
					</p></section><section class="section" id="forms-example-38"><div class="titlepage"><div><div><h4 class="title">5.15.1.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submissions.getSubmissions();</pre></section></section><section class="section" id="fh-forms-models-submissions-getsubmissionmetalist"><div class="titlepage"><div><div><h3 class="title">5.15.2. $fh.forms.models.submissions.getSubmissionMetaList()</h3></div></div></div><pre class="programlisting language-javascript">submissions.getSubmissionMetaList();</pre><section class="section" id="forms-details-47"><div class="titlepage"><div><div><h4 class="title">5.15.2.1. Details</h4></div></div></div><p>
						Returns a list of submission meta data
					</p></section><section class="section" id="forms-example-39"><div class="titlepage"><div><div><h4 class="title">5.15.2.2. Example</h4></div></div></div><p>
						submissions.getSubmissionMetaList();
					</p></section></section><section class="section" id="fh-forms-models-submissions-findbyformidformid"><div class="titlepage"><div><div><h3 class="title">5.15.3. $fh.forms.models.submissions.findByFormId(formId)</h3></div></div></div><pre class="programlisting language-javascript">submissions.findByFormId(formId);</pre><section class="section" id="forms-details-48"><div class="titlepage"><div><div><h4 class="title">5.15.3.1. Details</h4></div></div></div><p>
						Retrieves the meta data for specified form.
					</p></section><section class="section" id="forms-example-40"><div class="titlepage"><div><div><h4 class="title">5.15.3.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var formId = '53146bf95a133733451cd35b';

$fh.forms.getSubmissions({}, function (err, submissions) {
  if (err) {
    console.log('Error loading submissions', err);
  } else {
    console.log('Array of completed submissions', submissions);
    var foundSubmissions = submissions.findByFormId(formId);
    console.log('Array of submissions for specified form: ', foundSubmissions);

  }
});</pre></section></section><section class="section" id="fh-forms-models-submissions-clearcb"><div class="titlepage"><div><div><h3 class="title">5.15.4. $fh.forms.models.submissions.clear(cb)</h3></div></div></div><pre class="programlisting language-javascript">sumissions.clear(function(err))</pre><section class="section" id="forms-details-49"><div class="titlepage"><div><div><h4 class="title">5.15.4.1. Details</h4></div></div></div><p>
						Clear submission meta list from this model and local storage.
					</p></section><section class="section" id="forms-example-41"><div class="titlepage"><div><div><h4 class="title">5.15.4.2. Example</h4></div></div></div><pre class="programlisting language-javascript">$fh.forms.getSubmissions({}, function(err, submissions) {
    if (err) {
        console.log('Error loading submissions', err);
    } else {
        console.log('Array of completed submissions', submissions);
        submissions.clear(function(err) {
            if (err) console.err(err);
        });
    }
});</pre></section></section><section class="section" id="fh-forms-models-submissions-getdrafts"><div class="titlepage"><div><div><h3 class="title">5.15.5. $fh.forms.models.submissions.getDrafts()</h3></div></div></div><pre class="programlisting language-javascript">submissions.getDrafts()</pre><section class="section" id="forms-details-50"><div class="titlepage"><div><div><h4 class="title">5.15.5.1. Details</h4></div></div></div><p>
						Return submission drafts()
					</p></section><section class="section" id="forms-example-42"><div class="titlepage"><div><div><h4 class="title">5.15.5.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submissions.getDrafts();</pre></section></section><section class="section" id="fh-forms-models-submissions-getpending"><div class="titlepage"><div><div><h3 class="title">5.15.6. $fh.forms.models.submissions.getPending()</h3></div></div></div><pre class="programlisting language-javascript">submissions.getPending()</pre><section class="section" id="forms-details-51"><div class="titlepage"><div><div><h4 class="title">5.15.6.1. Details</h4></div></div></div><p>
						Returns pending submissions.
					</p></section><section class="section" id="forms-example-43"><div class="titlepage"><div><div><h4 class="title">5.15.6.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submissions.getPending();</pre></section></section><section class="section" id="fh-forms-models-submissions-getsubmitted"><div class="titlepage"><div><div><h3 class="title">5.15.7. $fh.forms.models.submissions.getSubmitted()</h3></div></div></div><pre class="programlisting language-javascript">submissions.getSubmitted()</pre><section class="section" id="forms-details-52"><div class="titlepage"><div><div><h4 class="title">5.15.7.1. Details</h4></div></div></div><p>
						Returns submitted submissions.
					</p></section><section class="section" id="forms-example-44"><div class="titlepage"><div><div><h4 class="title">5.15.7.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submissions.getSubmitted();</pre></section></section><section class="section" id="fh-forms-models-submissions-geterror"><div class="titlepage"><div><div><h3 class="title">5.15.8. $fh.forms.models.submissions.getError()</h3></div></div></div><pre class="programlisting language-javascript">submissions.getError()</pre><section class="section" id="forms-details-53"><div class="titlepage"><div><div><h4 class="title">5.15.8.1. Details</h4></div></div></div><p>
						Returns submissions that have errors.
					</p></section><section class="section" id="forms-example-45"><div class="titlepage"><div><div><h4 class="title">5.15.8.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submissions.getError();</pre></section></section><section class="section" id="fh-forms-models-submissions-getinprogress"><div class="titlepage"><div><div><h3 class="title">5.15.9. $fh.forms.models.submissions.getInProgress()</h3></div></div></div><pre class="programlisting language-javascript">submissions.getInProgress()</pre><section class="section" id="forms-details-54"><div class="titlepage"><div><div><h4 class="title">5.15.9.1. Details</h4></div></div></div><p>
						Return submissions that are currently in progress.
					</p></section><section class="section" id="forms-example-46"><div class="titlepage"><div><div><h4 class="title">5.15.9.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submissions.getInProgress();</pre></section></section><section class="section" id="fh-forms-models-submissions-getsubmissionbymetametacb"><div class="titlepage"><div><div><h3 class="title">5.15.10. $fh.forms.models.submissions.getSubmissionByMeta(meta,cb)</h3></div></div></div><pre class="programlisting language-javascript">submissions.getSubmissionByMeta(meta, function(err, res))</pre><section class="section" id="forms-details-55"><div class="titlepage"><div><div><h4 class="title">5.15.10.1. Details</h4></div></div></div><p>
						Retrieves a submission model object by submission meta data from submission list model.
					</p></section><section class="section" id="forms-example-47"><div class="titlepage"><div><div><h4 class="title">5.15.10.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = submissions.getSubmitted()[0];

submissions.getSubmissionByMeta(params, function (err, submission){
  if(err) console.error(err);

  console.log('Returned Submission',submission);
});</pre></section></section><section class="section" id="fh-forms-models-submissions-getsubmissionbylocalidlocalidcb"><div class="titlepage"><div><div><h3 class="title">5.15.11. $fh.forms.models.submissions.getSubmissionByLocalId(localId,cb)</h3></div></div></div><pre class="programlisting language-javascript">submissions.getSubmissionByLocalId(localId, function(err, submissionModel){})</pre><section class="section" id="forms-details-56"><div class="titlepage"><div><div><h4 class="title">5.15.11.1. Details</h4></div></div></div><p>
						Retrieves a submission model by the <span class="emphasis"><em>Local ID</em></span> of the submission.
					</p></section><section class="section" id="forms-example-48"><div class="titlepage"><div><div><h4 class="title">5.15.11.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var localId = "sublocalid1";

submissions.getSubmissionByLocalId(localId, function (err, submission){
  if(err) console.error(err);

  console.log('Returned Submission',submission);
});</pre></section></section><section class="section" id="fh-forms-models-submissions-getsubmissionbyremoteidremoteidcb"><div class="titlepage"><div><div><h3 class="title">5.15.12. $fh.forms.models.submissions.getSubmissionByRemoteId(remoteId,cb)</h3></div></div></div><pre class="programlisting language-javascript">submissions.getSubmissionByRemoteId(remoteId, function(err, submissionModel){})</pre><section class="section" id="forms-details-57"><div class="titlepage"><div><div><h4 class="title">5.15.12.1. Details</h4></div></div></div><p>
						Retrieves a submission model by the <span class="emphasis"><em>Remote ID</em></span> of the submission.
					</p></section><section class="section" id="forms-example-49"><div class="titlepage"><div><div><h4 class="title">5.15.12.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var remoteId = "subremoteid1";

submissions.getSubmissionByRemoteId(remoteId, function (err, submission){
  if(err) console.error(err);

  console.log('Returned Submission',submission);
}</pre></section></section></section><section class="section" id="fh-forms-models-submission"><div class="titlepage"><div><div><h2 class="title">5.16. $fh.forms.models.Submission</h2></div></div></div><section class="section" id="forms-details-58"><div class="titlepage"><div><div><h3 class="title">5.16.1. Details</h3></div></div></div><p>
					Submission models contaon user input and related meta information. A list of Submission models can be returned by calling the .getSubmissions() function on a list of submissions.
				</p><pre class="programlisting language-javascript">submissions.getSubmissions(); //double check</pre><p>
					Listed below are functions that can be called on Submission models.
				</p></section><section class="section" id="fh-forms-models-submission-savedraftcb"><div class="titlepage"><div><div><h3 class="title">5.16.2. $fh.forms.models.Submission.saveDraft(cb)</h3></div></div></div><pre class="programlisting language-javascript">submission.saveDraft(cb);</pre><section class="section" id="forms-details-59"><div class="titlepage"><div><div><h4 class="title">5.16.2.1. Details</h4></div></div></div><p>
						Save current submission to draft / local storage.
					</p></section><section class="section" id="forms-example-50"><div class="titlepage"><div><div><h4 class="title">5.16.2.2. Example</h4></div></div></div><pre class="programlisting language-javascript">currentSubmission.saveDraft(function (err) {
  if (err) {
    console.log(err);
  } else {
    console.log('Draft saved to local storage');
  }
});</pre></section></section><section class="section" id="fh-forms-models-submission-submit"><div class="titlepage"><div><div><h3 class="title">5.16.3. $fh.forms.models.Submission.submit()</h3></div></div></div><pre class="programlisting language-javascript">submission.submit(cb)</pre><section class="section" id="forms-details-60"><div class="titlepage"><div><div><h4 class="title">5.16.3.1. Details</h4></div></div></div><p>
						Submit current submission. It will create a task for uploading.
					</p></section><section class="section" id="forms-example-51"><div class="titlepage"><div><div><h4 class="title">5.16.3.2. Example</h4></div></div></div><pre class="programlisting language-javascript">currentSubmission.submit(function (err) {
  console.log(!err);
  if (err) {
    console.log(err);
  }
});

currentSubmission.on("submit", function () {
 /* Upload the submission. */
  currentSubmission.upload(function (err) {
    if (err) {
      console.log(err);
    }
  });
});</pre></section></section><section class="section" id="fh-forms-models-submission-getstatus"><div class="titlepage"><div><div><h3 class="title">5.16.4. $fh.forms.models.Submission.getStatus()</h3></div></div></div><pre class="programlisting language-javascript">submission.getStatus();</pre><section class="section" id="forms-details-61"><div class="titlepage"><div><div><h4 class="title">5.16.4.1. Details</h4></div></div></div><p>
						Returns the current status of the submission.
					</p></section><section class="section" id="forms-example-52"><div class="titlepage"><div><div><h4 class="title">5.16.4.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.getStatus();</pre></section></section><section class="section" id="fh-forms-models-submission-addcomment"><div class="titlepage"><div><div><h3 class="title">5.16.5. $fh.forms.models.Submission.addComment()</h3></div></div></div><pre class="programlisting language-javascript">submission.addComment(message, [username]);</pre><section class="section" id="forms-details-62"><div class="titlepage"><div><div><h4 class="title">5.16.5.1. Details</h4></div></div></div><p>
						Allows a user to add a comment to the current submission.
					</p></section><section class="section" id="forms-example-53"><div class="titlepage"><div><div><h4 class="title">5.16.5.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.addComment('test message', 'test user');</pre></section></section><section class="section" id="fh-forms-models-submission-getcomments"><div class="titlepage"><div><div><h3 class="title">5.16.6. $fh.forms.models.Submission.getComments()</h3></div></div></div><pre class="programlisting language-javascript">submission.getComments()</pre><section class="section" id="forms-details-63"><div class="titlepage"><div><div><h4 class="title">5.16.6.1. Details</h4></div></div></div><p>
						Returns an array of commetns for the current submission.
					</p></section><section class="section" id="forms-example-54"><div class="titlepage"><div><div><h4 class="title">5.16.6.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.addComment('test message', 'test user');

console.log(submission.getComments()); //will return an array containing the above comment</pre></section></section><section class="section" id="fh-forms-models-submission-removecommenttimestamp"><div class="titlepage"><div><div><h3 class="title">5.16.7. $fh.forms.models.Submission.removeComment(timeStamp)</h3></div></div></div><pre class="programlisting language-javascript">submission.removeComment(timeStamp);</pre><section class="section" id="forms-details-64"><div class="titlepage"><div><div><h4 class="title">5.16.7.1. Details</h4></div></div></div><p>
						Remove a comment from the current submission via its timestamp.
					</p></section><section class="section" id="forms-example-55"><div class="titlepage"><div><div><h4 class="title">5.16.7.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.removeComment(timeStamp);</pre></section></section><section class="section" id="fh-forms-models-submission-addinputvalueparamscb"><div class="titlepage"><div><div><h3 class="title">5.16.8. $fh.forms.models.Submission.addInputValue(params,cb)</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.Submission(params, callback(err, res))</pre><section class="section" id="forms-details-65"><div class="titlepage"><div><div><h4 class="title">5.16.8.1. Details</h4></div></div></div><p>
						Add a value to submission for a field. This will validate the input value and it will return an error message as a string if failed. If in transaction mode, it will not immediately add user input value to submission but a temp variable. If not in transaction mode, the input value is added to submission immediately. If the "sectionIndex" parameter is provided, a new value is added to the field in the given section index, within the repeating section group.
					</p></section><section class="section" id="forms-example-56"><div class="titlepage"><div><div><h4 class="title">5.16.8.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var params = {
    "fieldId": '53146c1f04e694ec1ad715b6',
    "value": 'New example text',
  "Index":optional,
    "sectionIndex":optional

};
currentSubmission.addInputValue(params, function(err, res) {
    if (err) console.error(err);

    console.log('Newly added input: ', res);
});</pre></section></section><section class="section" id="fh-forms-models-submission-startinputtransaction"><div class="titlepage"><div><div><h3 class="title">5.16.9. $fh.forms.models.Submission.startInputTransaction()</h3></div></div></div><pre class="programlisting language-javascript">submission.startInputTransaction()</pre><section class="section" id="forms-details-66"><div class="titlepage"><div><div><h4 class="title">5.16.9.1. Details</h4></div></div></div><p>
						Start a transaction for user input. if already started, it will drop temporary input.
					</p></section><section class="section" id="forms-example-57"><div class="titlepage"><div><div><h4 class="title">5.16.9.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.startInputTransaction();</pre></section></section><section class="section" id="fh-forms-models-submission-endinputtransactionissucceed"><div class="titlepage"><div><div><h3 class="title">5.16.10. $fh.forms.models.Submission.endInputTransaction(isSucceed)</h3></div></div></div><pre class="programlisting language-javascript">$fh.forms.models.Submission.endInputTransaction(isSucceed) //'isSucceed' is a boolean value.</pre><section class="section" id="forms-details-67"><div class="titlepage"><div><div><h4 class="title">5.16.10.1. Details</h4></div></div></div><p>
						End the transaction. If the transaction succeeds, it will copy temporary input to submission to be uploaded. If it fails, it will drop the temporary user input. 'isSucceed' is a boolean value. If 'true' is passed into the function, the transaction is complete and the user input is transfered from temporary storage to the submission. If 'false' is passed into the function, then the temporary values are discarded and the transaction is not completed.
					</p></section><section class="section" id="forms-example-58"><div class="titlepage"><div><div><h4 class="title">5.16.10.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.startInputTransaction();

var params = {
    "fieldId": '53146c1f04e694ec1ad715b6',
    "value": 'Example text'
  };

submission.addInputValue(params, function(err, res) {
    if (err) {
        console.log('Error adding input', err);
        submission.endInputTransaction(false); //Transaction failed. New values are not added to submission.
    } else {
        console.log('Updated value: ', res);
        submission.endInputTransaction(true); //End input transaction. New value is added to submission.
    }
});</pre></section></section><section class="section" id="fh-forms-models-submission-reset"><div class="titlepage"><div><div><h3 class="title">5.16.11. $fh.forms.models.Submission.reset()</h3></div></div></div><pre class="programlisting language-javascript">submission.reset();</pre><section class="section" id="forms-details-68"><div class="titlepage"><div><div><h4 class="title">5.16.11.1. Details</h4></div></div></div><p>
						Remove all user input from this submission.
					</p></section><section class="section" id="forms-example-59"><div class="titlepage"><div><div><h4 class="title">5.16.11.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.reset();</pre></section></section><section class="section" id="fh-forms-models-submission-getformcb"><div class="titlepage"><div><div><h3 class="title">5.16.12. $fh.forms.models.Submission.getForm(cb)</h3></div></div></div><pre class="programlisting language-javascript">submission.getForm(function (err, form))</pre><section class="section" id="forms-details-69"><div class="titlepage"><div><div><h4 class="title">5.16.12.1. Details</h4></div></div></div><p>
						Returns Form object associated with the submission.
					</p></section><section class="section" id="forms-example-60"><div class="titlepage"><div><div><h4 class="title">5.16.12.2. Example</h4></div></div></div><pre class="programlisting language-javascript">submission.getForm(function(err, form) {
    if (err) console.error(err);

    console.log('Form associated with submission: ', form);
});</pre></section></section><section class="section" id="fh-forms-submission-removefieldvaluefieldid-index"><div class="titlepage"><div><div><h3 class="title">5.16.13. $fh.forms.Submission.removeFieldValue(fieldId, [index])</h3></div></div></div><pre class="programlisting language-javascript">submission.removeFieldValue(fieldId, index, sectionIndex)
//Index is only specified when referencing repeated fields
//sectionIndex is only specified when referencing repeating section</pre><section class="section" id="forms-details-70"><div class="titlepage"><div><div><h4 class="title">5.16.13.1. Details</h4></div></div></div><p>
						Remove a value from a specific field based on ID, sectionIndex may be passed to get value of a field in specific section, otherwise it defaults to 0.
					</p></section><section class="section" id="forms-example-61"><div class="titlepage"><div><div><h4 class="title">5.16.13.2. Example</h4></div></div></div><pre class="programlisting language-javascript">var exampleFieldId = '1234';

submission.removeFieldValue(exampleFieldId);</pre></section></section><section class="section" id="fh-forms-submission-getinputvaluebyfieldidfieldcb"><div class="titlepage"><div><div><h3 class="title">5.16.14. $fh.forms.Submission.getInputValueByFieldId(field,cb)</h3></div></div></div><pre class="programlisting language-javascript">submission.getInputValueByFieldId(field, sectionIndex, function(err, res))</pre><section class="section" id="forms-details-71"><div class="titlepage"><div><div><h4 class="title">5.16.14.1. Details</h4></div></div></div><p>
						Get input values associated with a field, sectionIndex may be passed to get value of a field in specific section, otherwise it defaults to 0.
					</p><pre class="programlisting language-javascript">var fieldId = '1234';

currentSubmission.getInputValueByFieldId(fieldId, function(err, res) {
    if (err) console.error(err);

    console.log('Field value: ', res);
});</pre></section></section><section class="section" id="submission-events"><div class="titlepage"><div><div><h3 class="title">5.16.15. Submission Events</h3></div></div></div><p>
					The <code class="literal">Submission</code> Model emits events as they move through the submission process. Whenever a function is executed when an event is fired, the <code class="literal">this</code> object will always refer to the <code class="literal">Submission</code> object that emitted the event.
				</p><section class="section" id="inprogress-the-submission-is-in-the-process-of-uploading."><div class="titlepage"><div><div><h4 class="title">5.16.15.1. inprogress The Submission Is In The Process Of Uploading.</h4></div></div></div><pre class="programlisting language-javascript">submission.on('inprogress', function(uploadTask) {
    var self = this;
    uploadTask.submissionModel(function(err, submissionModel) {
        //The 'this' parameter in the event refers the submission model that emitted the event.
        assert.strictEqual(self, submissionModel);
    });
});</pre></section><section class="section" id="error-there-was-an-error-uploading-the-submission."><div class="titlepage"><div><div><h4 class="title">5.16.15.2. error: There Was An Error Uploading The Submission.</h4></div></div></div><pre class="programlisting language-javascript">submission.on('error', function(errorMessage) {
    console.error(errorMessage);
    assert.equal(errorMessage, this.getErrorMessage);
});</pre></section><section class="section" id="savedraft-the-submission-was-saved-as-a-draft"><div class="titlepage"><div><div><h4 class="title">5.16.15.3. savedraft: The Submission Was Saved As A Draft</h4></div></div></div><pre class="programlisting language-javascript">submission.on('savedraft', function() {
    //This is the local ID of the submission that emitted the 'savedraft' event.
    assert.isString(this.getLocalId());
});</pre></section><section class="section" id="validationerror-there-was-a-validation-error-when-making-a-submission."><div class="titlepage"><div><div><h4 class="title">5.16.15.4. validationerror: There Was A Validation Error When Making A Submission.</h4></div></div></div><p>
						This error is only emitted locally. This is not a validation error on the server side.
					</p><pre class="programlisting language-javascript">submission.on('validationerror', function(validationObject) {
    //This is the local ID of the submission that emitted the 'savedraft' event.
    assert.isString(false, validationObject.valid);
});</pre><p>
						<span class="emphasis"><em>Validation Object</em></span>
					</p><pre class="programlisting language-javascript">{
    valid: &lt; true / false &gt; ,
    &lt; fieldid1 &gt; : {
        valid: &lt; true / false &gt; ,
        errorMessages: [
            "Validation Error Message 1",
            "Validation Error Message 2"
        ]
    },
    ....,
    &lt; fieldidN &gt; : {
        valid: &lt; true / false &gt; ,
        errorMessages: [
            "Validation Error Message 1",
            "Validation Error Message 2"
        ]
    }
}</pre></section><section class="section" id="submit-the-submission-is-valid-and-can-now-be-uploaded."><div class="titlepage"><div><div><h4 class="title">5.16.15.5. submit: The Submission Is Valid And Can Now Be Uploaded.</h4></div></div></div><p>
						The submission has passed local validation. It is now ready to be uploaded to the Cloud.
					</p><pre class="programlisting language-javascript">submission.on('submit', function() {
    //Valid Submission, it can be uploaded now or at any other time
    this.upload(function(err, uploadTask) {
            ...
    });
});</pre></section><section class="section" id="submitted-the-submission-is-valid-and-has-completed-uploading-all-data."><div class="titlepage"><div><div><h4 class="title">5.16.15.6. submitted: The Submission Is Valid And Has Completed Uploading All Data.</h4></div></div></div><pre class="programlisting language-javascript">submission.on('submitted', function(remoteSubmissionId) {
    assert.equal(remoteSubmissionId, this.getRemoteSubmissionId());
});</pre></section><section class="section" id="queued-the-submission-json-definition-has-been-uploaded.-proceeding-to-upload-any-files."><div class="titlepage"><div><div><h4 class="title">5.16.15.7. queued: The Submission JSON Definition Has Been Uploaded. Proceeding To Upload Any Files.</h4></div></div></div><p>
						At this point, the <span class="emphasis"><em>remote</em></span> submission ID has been assigned on the Cloud side. The submission can now be considered valid on both Client and Cloud sides.
					</p><pre class="programlisting language-javascript">submission.on('queued', function(remoteSubmissionId) {
    assert.equal(remoteSubmissionId, this.getRemoteSubmissionId());
});</pre></section><section class="section" id="progress-the-progress-for-a-submission-has-been-incremented."><div class="titlepage"><div><div><h4 class="title">5.16.15.8. progress: The Progress For A Submission Has Been Incremented.</h4></div></div></div><pre class="programlisting language-javascript">submission.on('progress', function(progressJSON) {
    //The Current Progress Of The Submission
});</pre><section class="section" id="progressjson"><div class="titlepage"><div><div><h5 class="title">5.16.15.8.1. progressJSON</h5></div></div></div><pre class="programlisting language-javascript">{
    'formJSON': false, //Boolean specifying if the submission JSON has been uploaded.
    'currentFileIndex': 0,
    'totalFiles': 3,
    'totalSize': 54321, //Size in Bytes of the entire submission
    'uploaded': 12345, //Size, in Bytes already uploaded
    'retryAttempts': 1, //Number of times the submission has been tried.
    'submissionTransferType': &lt; upload / download &gt; , //Is the submission being uploaded or downloaded.
    'submissionRemoteId': "remoteSubmissionID1234", //The remote submission ID if it is available.
    'submissionLocalId': "localSubmissionID1234" //The local submission ID
}</pre></section></section><section class="section" id="downloaded-the-submission-has-completed-downloading-only-used-when-downloading-submissions."><div class="titlepage"><div><div><h4 class="title">5.16.15.9. downloaded: The Submission Has Completed Downloading (Only Used When Downloading Submissions.)</h4></div></div></div><p>
						This also includes all files when a submission is downloaded to a mobile client device.
					</p><pre class="programlisting language-javascript">submission.on('downloaded', function(remoteSubmissionId) {
    assert.equal(remoteSubmissionId, this.getRemoteSubmissionId());
});</pre></section></section></section></section><section class="chapter" id="fh-hash"><div class="titlepage"><div><div><h1 class="title">Chapter 6. $fh.hash</h1></div></div></div><pre class="programlisting language-javascript">$fh.hash(options, success, failure);</pre><p>
			Generate hash value of a string.
		</p><div class="itemizedlist" id="hash-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="hash-example"><div class="titlepage"><div><div><h2 class="title">6.1. Example</h2></div></div></div><pre class="programlisting language-javascript">var options = {
  "algorithm": "SHA256", // Can be MD5 | SHA1 | SHA256 | SHA512
  "text": "Need more widgets. Add some columns." // Text to hash
};

$fh.hash(options, function (res) {
  // The generated hash value
  var hashvalue = res.hashvalue;
}, function(msg) {
  // Error message for why the hash failed
  console.error(msg);
});</pre></section></section><section class="chapter" id="fh-init"><div class="titlepage"><div><div><h1 class="title">Chapter 7. $fh.init</h1></div></div></div><p>
			In order for the Client Apps to communicate with the corresponding Cloud Apps, the client SDKs need to be initialized before making any cloud calls.
		</p><p>
			The initializations process involves a call to the server to verify that it is a valid app on the platform and get some properties of the app. No other API methods can be executed before this process finishes. The initialization process runs asynchronously so that the main app thread won’t be blocked.
		</p><div class="itemizedlist" id="init-support-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Windows
						</li><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="init-example"><div class="titlepage"><div><div><h2 class="title">7.1. Example</h2></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
					The Javascript SDK is initialized automatically once the app is loaded and as a result, it is not necessary to call the init API therefore, $fh.cloud, for example, can be used as soon as the app has loaded. To learn when the app has completed initialization, register a callback with "fhinit".
				</p></div><pre class="programlisting language-javascript">$fh.on("fhinit", function(err, host){
  if(err){
    //Init has failed due to some error. Normally this is due to no network connection.
  } else {
    //The js sdk has initialized. The host value will be the URL of the cloud app the client app will communicate with.
  }
});</pre><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
					
<pre class="programlisting language-java">FH.init(this, new FHActCallback() {
  public void success(FHResponse pRes) {
    // Init okay, free to use FHActRequest
    // Note: pRes will be null. To get the cloud host url, use FH.getCloudHost.
    String cloudAppUrl = FH.getCloudHost();
  }

  public void fail(FHResponse pRes) {
    // Init failed
    Log.e("FHInit", pRes.getErrorMessage(), pRes.getError());
  }
});</pre>
				</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
					
<pre class="programlisting language-objectivec">#import &lt;FH/FH.h&gt;
#import &lt;FH/FHResponse.h&gt;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
  // Override point for customization after application launch.

  // Call a cloud side function when init finishes
  void (^success)(FHResponse *)=^(FHResponse * res) {
    // Initialisation is now complete, you can now make FHCloud requests
    // Note: res will be nil. To get the cloud host url, use [FH getCloudHost].
    NSString * cloudAppUrl = [FH getCloudHost];
    NSLog(@"SDK initialised OK");
  };

  void (^failure)(id)=^(FHResponse * res){
    NSLog(@"Initialisation failed. Response = %@, res.rawResponse);
  };

  //View loaded, init the library
  [FH initWithSuccess:success AndFailure:failure];

  return YES;
}</pre>
				</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
					
<pre class="programlisting language-swift">import FeedHenry

func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: [NSObject: AnyObject]?) -&gt; Bool {
  // Override point for customization after application launch.
  FH.init { (resp:Response, error: NSError?) -&gt; Void in
    if let error = error {
      print("Initialisation failed. Response = \(error)")
      return
    }
    // Initialisation is now complete, you can now make FH.cloud calls.
    print("SDK initialised OK: \(resp.parsedResponse)")
  }
  return true
}</pre>
				</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
					
<pre class="programlisting language-csharp">try
{
  bool inited = await FHClient.Init();
  if(inited) {
    //Initialisation is successful
    //To get the cloud host url, use FH.GetCloudHost().
    string cloudAppUrl = FH.GetCloudHost();
  }
}
catch(FHException e)
{
  //Initialisation failed, handle exception
}</pre>
				</p></div></section></section><section class="chapter" id="fh-mbaas"><div class="titlepage"><div><div><h1 class="title">Chapter 8. $fh.mbaas</h1></div></div></div><pre class="programlisting language-javascript">$fh.mbaas(options, success, failure);</pre><p>
			Call MBaaS service endpoints.
		</p><div class="itemizedlist" id="mbaas-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Web Apps
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="mbaas-example"><div class="titlepage"><div><div><h2 class="title">8.1. Example</h2></div></div></div><pre class="programlisting language-javascript">$fh.mbaas({
  "service": "db", //the MBaaS service name.
  "params": {}, //json object to send to the MBaaS service
  "timeout": 25000 // timeout value specified in milliseconds. Default: 60000 (60s)
}, function(res) {
  // Cloud call was successful. Alert the response
  alert('Got response from cloud:' + JSON.stringify(res));
}, function(msg,err) {
  // An error occured during the cloud call. Alert some debugging information
  alert('Cloud call failed with error message:' + msg + '. Error properties:' + JSON.stringify(err));
});</pre></section></section><section class="chapter" id="fh-push"><div class="titlepage"><div><div><h1 class="title">Chapter 9. $fh.push</h1></div></div></div><pre class="programlisting language-javascript">$fh.push(onNotification(e), regSuccessHandler, regErrorHandler(err), pushConfig)</pre><p>
			Register with the server to start receiving push notifications.
		</p><div class="itemizedlist" id="push-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Windows
						</li><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="push-example"><div class="titlepage"><div><div><h2 class="title">9.1. Example</h2></div></div></div><div class="formalpara"><p class="title"><strong>Javascript</strong></p><p>
					
<pre class="programlisting language-javascript">// register with the server to start receiving push notifications
$fh.push(function(e) {
    // on android we could play a sound, if we add the Media plugin
    if (e.sound &amp;&amp; (typeof Media != 'undefined')) {
      var media = new Media("/android_asset/www/" + e.sound);
      media.play();
    }

    if (e.coldstart) {
      // notification started the app
    }

    // show text content of the message
    alert(e.alert);

    // only on iOS
    if (e.badge) {
      push.setApplicationIconBadgeNumber(successHandler, e.badge);
  }
}, function() {
  // successfully registered
}, function(err) {
  // handle errors
}, {
  // optional filtering criteria
  alias: "user@example.com",
  categories: ["Curling", "Hurling"]
});</pre>
				</p></div><div class="itemizedlist"><p class="title"><strong>Parameters</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">onNotification(e)</code> Function - handler for incoming notifications, contains the following properties:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">alert</code>, <code class="literal">sound</code>, <code class="literal">badge</code> - equivalent semantics as the corresponding options in the <code class="literal">message</code> object of the <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/cloud-api/#fh-push">cloud API</a>
							</li><li class="listitem">
								<code class="literal">coldstart</code> - true, if the received notification was the cause of application start
							</li><li class="listitem">
								<code class="literal">payload</code> - corresponds to the <code class="literal">message.userData</code> option of the Cloud API
							</li></ul></div></li><li class="listitem">
						<code class="literal">regSuccessHandler</code> Function - callback invoked upon successful registration
					</li><li class="listitem">
						<code class="literal">regErrorHandler(err)</code> Function - callback invoked if the registration fails due to an error, which is then passed as a String argument
					</li><li class="listitem"><p class="simpara">
						<code class="literal">pushConfig</code> Object - optional configuration, which allows filtering of notifications received by a client using a set of criteria. See <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/product-features/#sending-notifications">Sending Notifications</a> for semantics of these criteria and usage information. Available properties:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">alias</code> String - user-specific identifier
							</li><li class="listitem">
								<code class="literal">categories</code> Array - list of categories
							</li></ul></div></li></ul></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
					Register with the server to start receiving push notifications.
				</p></div><pre class="programlisting language-java">FH.pushRegister(new FHActCallback() {
    @Override
    public void success(FHResponse fhResponse) {
        startActivity(...);
    }


    @Override
    public void fail(FHResponse fhResponse) {
        Toast.makeText(getApplicationContext(),
                fhResponse.getErrorMessage(), Toast.LENGTH_SHORT).show();
        finish();
    }
});</pre><p>
				To handle messages, create an implementation of <code class="literal">MessageHandler</code>. Register the <code class="literal">MessageHandler</code> with the <code class="literal">RegistrarManager</code> to enable it, as documented in <a class="link" href="https://aerogear.org/docs/unifiedpush/aerogear-push-android/guides/#_receiving_notifications">Receiving notifications</a> in the Aerogear documentation.
			</p><pre class="programlisting language-java">import org.jboss.aerogear.android.unifiedpush.MessageHandler;
import org.jboss.aerogear.android.unifiedpush.gcm.UnifiedPushMessage;

public class MyMessageHandler implements MessageHandler {
    @Override
    public void onMessage(Context context, Bundle bundle) {
        String message = bundle.getString(UnifiedPushMessage.ALERT_KEY);
    }
}</pre><div class="formalpara"><p class="title"><strong>Parameters</strong></p><p>
					The keys in the <code class="literal">Bundle</code> passed to the <code class="literal">onMessage</code> method of the message handler:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">UnifiedPushMessage.ALERT_KEY</code> - the notification text, corresponding to the <code class="literal">message.alert</code> property in the <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/cloud-api/#fh-push">cloud API</a>.
					</li><li class="listitem">
						All the keys sent with <code class="literal">message.userData</code> in the Cloud API, represented as strings containing JSON objects.&lt;/li&gt;
					</li></ul></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
					Register with the server to start receiving push notifications.
				</p></div><pre class="programlisting language-objectivec">- (void)application:(UIApplication )application didRegisterForRemoteNotificationsWithDeviceToken:(NSData )deviceToken {
  [FH pushRegister:deviceToken andSuccess:^(FHResponse success) {
    NSLog(@"Push registration successful");
  } andFailure:^(FHResponse failed) {
    NSLog(@"Push registration Error: %@", failed.error);
  }];
}</pre><p>
				Handling messages:
			</p><pre class="programlisting language-objectivec">- (void)application:(UIApplication )application didReceiveRemoteNotification:(NSDictionary )userInfo {
    NSLog(@"message received: %@", userInfo[@"aps"][@"alert"][@"body"]);
}</pre><div class="itemizedlist"><p class="title"><strong>Parameters</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">userInfo</code> NSDictionary
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								<code class="literal">aps</code> NSDictionary
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										<code class="literal">alert</code> NSString/NSDictionary - the notification text, corresponding to the <code class="literal">message.alert</code> property in the <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/cloud-api/#fh-push">cloud API</a>. The type can be either <code class="literal">NSString</code> or <code class="literal">NSDictionary</code>, as documented in the <a class="link" href="https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/TheNotificationPayload.html">Local and Remote Notification Programming Guide</a> in iOS documentation.
									</li><li class="listitem">
										All the keys sent with <code class="literal">message.userData</code> in the Cloud API.
									</li></ul></div></li></ul></div></li></ul></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
					Register with the server to start receiving push notifications.
				</p></div><pre class="programlisting language-csharp">protected override async void OnNavigatedTo(NavigationEventArgs e)
{
    try
    {
        await FHClient.Init();
        // register with the server to start receiving push notifications
        FH.RegisterPush(HandleNotification);
    }
    catch (Exception ex)
    {
        new MessageDialog("Error", ex.Message).ShowAsync();
    }
...</pre><p>
				Handling messages:
			</p><pre class="programlisting language-csharp">private void HandleNotification(object sender, PushReceivedEvent e)
{
    Console.WriteLine(e.Args.Message);
}</pre><div class="itemizedlist"><p class="title"><strong>Parameters</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">PushReceivedEvent.Args</code>
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<code class="literal">Message</code> string - the notification text, corresponding to the <code class="literal">message.alert</code> property in the <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/cloud-api/#fh-push">cloud API</a>.
							</li><li class="listitem">
								<code class="literal">Data</code> IDictionary&lt;string, string&gt; - a dictionary of values passed to <code class="literal">message.userData</code> in the Cloud API
							</li></ul></div></li></ul></div></section></section><section class="chapter" id="fh-sec"><div class="titlepage"><div><div><h1 class="title">Chapter 10. $fh.sec</h1></div></div></div><pre class="programlisting language-javascript">$fh.sec(options, success, failure);</pre><p>
			Key pair generation and data encryption and decryption.
		</p><div class="itemizedlist" id="sec-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="sec-example"><div class="titlepage"><div><div><h2 class="title">10.1. Example</h2></div></div></div><pre class="programlisting language-javascript">// Generate a new Key
var options = {
  "act": "keygen",
  "params": {
    "algorithm": "AES", // Only AES supported
    "keysize": "128" // 128 or 256
  }
};

$fh.sec(options, function(res) {
  // The algorithm used for the generation
  var algorithm = res.algorithm;

  // The generated key (hex format)
  var secretkey = res.secretkey;

  // The generated initial vector (hex format)
  var iv = res.iv;
}, function(code) {
  // Error code. One of:
  //  bad_act   : invalid action type
  //  no_params : params missing
  //  no_params_algorithm : missing algorithm in params
  console.error(code);
});


// Encrypt data
var options = {
  "act": "encrypt",
  "params": {
    // The data to be encrypted
    "plaintext": "Need a new page to start on",
    // The secret key used to do the encryption. (Hex format)
    "key": secretkey,
    // The algorithm used for encryption. Should be either "RSA" or "AES"
    "algorithm": "AES",
    // IV only required if algorithm is "AES"
    "iv": iv
  }
};
$fh.sec(options, function (res) {
  // The encrypted data (hex format)
  var ciphertext = res.ciphertext;
}, function (code) {
  // Error code. One of:
  //  bad_act   : invalid action type
  //  no_params : params missing
  //  no_params_algorithm : missing algorithm in params
  console.error(code);
});

// Decrypt data
var options = {
  "act": "encrypt",
  "params": {
    // The data to be decrypted
    "ciphertext": "dc87f02ae3fce8149d1e2b97a747581f8bc7c0c01b435a87ba56661b1ae",
    // The secret key used to do the decryption. (Hex format)
    "key": secretkey,
    // The algorithm used for decryption. Should be either "RSA" or "AES"
    "algorithm": "AES",
    // IV only required if algorithm is "AES"
    "iv": iv
  }
};
$fh.sec(options, function (res) {
  // The decrypted data (hex format)
  var plaintext = res.plaintext;
}, function (code) {
  // Error code. One of:
  //  bad_act   : invalid action type
  //  no_params : params missing
  //  no_params_algorithm : missing algorithm in params
  console.error(code);
});</pre></section></section><section class="chapter" id="fh-sync"><div class="titlepage"><div><div><h1 class="title">Chapter 11. $fh.sync</h1></div></div></div><p>
			The Sync API provides a resilient mechanism for data synchronization between a Client App and a back-end data store. When using the Sync API, the Client App should perform all data operations only through the Sync API and never through <code class="literal">$fh.cloud</code> calls.
		</p><p>
			Datasets are put under control of the Sync service by calling <code class="literal">manage</code> and specifying a unique ID for the dataset, along with any query parameters passed to the back-end data store to restrict the dataset.
		</p><p>
			The Sync client uses events to notify the app when data state has changed, such as when new records are received, updates are committed to back end, and other ones. For a deeper explanation of the concepts of the Sync Service, see <a class="link" href="https://access.redhat.com/documentation/en/red-hat-mobile-application-platform-hosted/3/single/server-side-developer-guide/#data-sync-framework">Data Sync Framework</a>.
		</p><div class="itemizedlist" id="sync-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Windows
						</li><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="fh-sync-init"><div class="titlepage"><div><div><h2 class="title">11.1. $fh.sync.init</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.init(options);</pre><section class="section" id="sync-details-1"><div class="titlepage"><div><div><h3 class="title">11.1.1. Details</h3></div></div></div><p>
					Initialise the client data sync service.
				</p></section><section class="section" id="sync-example"><div class="titlepage"><div><div><h3 class="title">11.1.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">$fh.sync.init({
  // How often to synchronize data with the cloud, in seconds.
  // Optional. Default: 10
  "sync_frequency": 10,

  // Should local changes be synchronized to the cloud immediately, or should they wait for the next synchronization interval.
  // Optional. Default: true
  "auto_sync_local_updates": true,

  // Should a notification event be triggered when loading or saving to client storage fails.
  // Optional. Default: true
  "notify_client_storage_failed": true,

  // Should a notification event be triggered when a synchronization cycle with the server has been started.
  // Optional. Default: true
  "notify_sync_started": true,

  // Should a notification event be triggered when a synchronization cycle with the server has been completed.
  // Optional. Default: true
  "notify_sync_complete": true,

  // Should a notification event be triggered when an attempt was made to update a record while offline.
  // Optional. Default: true
  "notify_offline_update": true,

  // Should a notification event be triggered when an update failed due to data collision.
  // Optional. Default: true
  "notify_collision_detected": true,

  // Should a notification event be triggered when an update was applied to the local data store.
  // Optional. Default: true
  "notify_local_update_applied": true,

  // Should a notification event be triggered when an update failed for a reason other than data collision.
  // Optional. Default: true
  "notify_remote_update_failed": true,

  // Should a notification event be triggered when an update was applied to the remote data store.
  // Optional. Default: true
  "notify_remote_update_applied": true,

  // Should a notification event be triggered when a delta was received from the remote data store.
  // Optional. Default: true
  "notify_delta_received": true,

  // Should a notification event be triggered when a delta was received from the remote data store for a record.
  // Optional. Default: true
  "notify_record_delta_received": true,

  // Should a notification event be triggered when the synchronization loop failed to complete.
  // Optional. Default: true
  "notify_sync_failed": true,

  // Should log statements be written to console.log. Will be useful for debugging.
  // Optional. Default: false
  "do_console_log": false,

  // How many synchronization cycles to check for updates on crashed in-flight updates.
  // Optional. Default: 10
  "crashed_count_wait" : 10,

  // If crashed_count_wait limit is reached, should the client retry sending the crashed in flight pending records.
  // Optional. Default: true
  "resend_crashed_updates" : true,

  // Is the background synchronization with the cloud currently active. If this is set to false, the synchronization loop will not start automatically. You need to call startSync to start the synchronization loop.
  // Optional. Default: true
  "sync_active" : true,

  // Storage strategy to use for the underlying client storage framework Lawnchair. Valid values include 'dom', 'html5-filesystem', 'webkit-sqlite', 'indexed-db'.
  // Multiple values can be specified as an array and the first valid storage option will be used.
  // Optional. Default: 'html5-filesystem'
  "storage_strategy" : "html5-filesystem",

  // Amount of space to request from the HTML5 filesystem API when running in browser
  // Optional. Default: 50 * 1024 * 1024
  "file_system_quota" : 50 * 1024 * 1024,

  // If the app has legacy custom cloud sync function (the app implemented the data CRUDL operations in main.js file in FH V2 apps), it should be set to true. If set to false, the default MBaaS sync implementation will be used. When set to null or undefined, a check will be performed to determine which implementation to use.
  // Optional. Default: null
  "has_custom_sync" : null,

  // ios only. If set to true, the file will be backed by icloud.
  // Optional.Default: false
  "icloud_backup" : false
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						
<pre class="programlisting language-java">FHSyncConfig syncConfig = new FHSyncConfig();

// Should local changes be synchronized to the cloud immediately, or should
// they wait for the next synchronization interval.
// Optional. Default: false
syncConfig.setAutoSyncLocalUpdates(false);

// How many synchronization cycles to check for updates on crashed in-flight
// updates.
// Optional. Default: 10
syncConfig.setCrashCountWait(10);

// Should a notification event be triggered when loading or saving to client
//storage fails.
// Optional. Default: false
syncConfig.setNotifyClientStorageFailed(false);

// Should a notification event be triggered when a delta was received from the
//remote data store.
// Optional. Default: false
syncConfig.setNotifyDeltaReceived(false);

// Should a notification event be triggered when an update was applied to the local
//data store.
// Optional. Default: false
syncConfig.setNotifyLocalUpdateApplied(false);

// Should a notification event be triggered when an attempt was made to update a
//record while offline.
// Optional. Default: false
syncConfig.setNotifyOfflineUpdate(false);

// Should a notification event be triggered when an update was applied to the remote
//data store.
// Optional. Default: false
syncConfig.setNotifyRemoteUpdateApplied(false);

// Should a notification event be triggered when a synchronization cycle with the
//server has been started.
// Optional. Default: false
syncConfig.setNotifySyncStarted(false);

// Should a notification event be triggered when the synchronization loop failed to complete.
// Optional. Default: false
syncConfig.setNotifySyncFailed(false);

// Should a notification event be triggered when a synchronization cycle with the
// server has been completed.
// Optional. Default: false
syncConfig.setNotifySyncComplete(false);

// Should a notification event be triggered when an update failed due to data collision.
// Optional. Default: false
syncConfig.setNotifySyncCollisions(false);

// Should a notification event be triggered when an update failed for a reason other
//than data collision.
// Optional. Default: false
syncConfig.setNotifyUpdateFailed(false);

// If the limit set in setCrashCountWait is reached, should the client
// retry sending the crashed in-flight pending records.
// Optional. Default: true
syncConfig.setResendCrashedUpdates(true);

// How often to synchronize data with the cloud, in seconds.
// Optional. Default: 10
syncConfig.setSyncFrequency(10);

// If the app has legacy custom cloud sync function (the app implemented the data
//CRUDL operations in main.js file in FH V2 apps), it should be set to true. If set
//to false, the default MBaaS sync implementation will be used.
// Optional. Default: false
syncConfig.setUseCustomSync(false);

syncClient = FHSyncClient.getInstance();
syncClient.init(appContext, syncConfig, new FHSyncListener() {
                                                    /**The implementation for this class
                                                    * is discussed later in this document
                                                    **/
                                                });</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">let conf = FHSyncConfig()

// How often to synchronize data with the cloud, in seconds.
// Optional. Default: 10
conf?.syncFrequency = 10

// Should local changes be synchronized to the cloud immediately, or should they wait for the next synchronization interval.
// Optional. Default: true
conf?.autoSyncLocalUpdates = true

// Should a notification event be triggered when loading or saving to client storage fails.
// Optional. Default: false
conf?.notifyClientStorageFailed = true

// Should a notification event be triggered when a synchronization cycle with the server has been started.
// Optional. Default: false
conf?.notifySyncStarted = true

// Should a notification event be triggered when a synchronization cycle with the server has been completed.
// Optional. Default: false
conf?.notifySyncCompleted = true

// Should a notification event be triggered when an attempt was made to update a record while offline.
// Optional. Default: false
conf?.notifyOfflineUpdate = true

// Should a notification event be triggered when an update failed due to data collision.
// Optional. Default: false
conf?.notifySyncCollision = true

// Should a notification event be triggered when an update was applied to the local data store.
// Optional. Default: false
conf?.notifyLocalUpdateApplied = true

// Should a notification event be triggered when an update failed for a reason other than data collision.
// Optional. Default: false
conf?.notifyRemoteUpdateFailed = true

// Should a notification event be triggered when an update was applied to the remote data store.
// Optional. Default: false
conf?.notifyRemoteUpdateApplied = true

// Should a notification event be triggered when a delta was received from the remote data store.
// Optional. Default: false
conf?.notifyDeltaReceived = true

// Should a notification event be triggered when the synchronization loop failed to complete.
// Optional. Default: false
conf?.notifySyncFailed = true

// Should log statements be written to console.log. Will be useful for debugging.
// Optional. Default: false
conf?.debug = true

// How many synchronization cycles to check for updates on crashed in-flight updates.
// Optional. Default: 10
conf?.crashCountWait = 10

// If crashCountWait limit is reached, should the client retry sending the crashed in flight pending records.
// Optional. Default: true
conf?.resendCrashedUpdates = true

// If the app has legacy custom cloud sync function (the app implemented the data CRUDL operations in main.js file in FH V2 apps), it should be set to true. If set to false, the default MBaaS sync implementation will be used. When set to null or undefined, a check will be performed to determine which implementation to use.
// Optional. Default: false
conf?.hasCustomSync = false

// iOS only. If set to YES, the file will be backed by icloud.
// Optional.Default: false
conf?.icloud_backup = false

syncClient = FHSyncClient(config: conf)</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">FHSyncConfig* conf = [[FHSyncConfig alloc] init];

// How often to synchronize data with the cloud, in seconds.
// Optional. Default: 10
conf.syncFrequency = 10;

// Should local changes be synchronized to the cloud immediately, or should they wait for the next synchronization interval.
// Optional. Default: YES
conf.autoSyncLocalUpdates = YES;

// Should a notification event be triggered when loading or saving to client storage fails.
// Optional. Default: NO
conf.notifyClientStorageFailed = YES;

// Should a notification event be triggered when a synchronization cycle with the server has been started.
// Optional. Default: NO
conf.notifySyncStarted = YES;

// Should a notification event be triggered when a synchronization cycle with the server has been completed.
// Optional. Default: NO
conf.notifySyncCompleted = YES;

// Should a notification event be triggered when an attempt was made to update a record while offline.
// Optional. Default: NO
conf.notifyOfflineUpdate = YES;

// Should a notification event be triggered when an update failed due to data collision.
// Optional. Default: NO
conf.notifySyncCollision = YES;

// Should a notification event be triggered when an update was applied to the local data store.
// Optional. Default: NO
conf.notifyLocalUpdateApplied = YES;

// Should a notification event be triggered when an update failed for a reason other than data collision.
// Optional. Default: NO
conf.notifyRemoteUpdateFailed = YES;

// Should a notification event be triggered when an update was applied to the remote data store.
// Optional. Default: NO
conf.notifyRemoteUpdateApplied = YES;

// Should a notification event be triggered when a delta was received from the remote data store.
// Optional. Default: NO
conf.notifyDeltaReceived = YES;

// Should a notification event be triggered when the synchronization loop failed to complete.
// Optional. Default: NO
conf.notifySyncFailed = YES;

// Should log statements be written to console.log. Will be useful for debugging.
// Optional. Default: NO
conf.debug = YES;

// How many synchronization cycles to check for updates on crashed in-flight updates.
// Optional. Default: 10
conf.crashCountWait = 10;

// If crashCountWait limit is reached, should the client retry sending the crashed in flight pending records.
// Optional. Default: YES
conf.resendCrashedUpdates = YES;

// If the app has legacy custom cloud sync function (the app implemented the data CRUDL operations in main.js file in FH V2 apps), it should be set to true. If set to false, the default MBaaS sync implementation will be used. When set to null or undefined, a check will be performed to determine which implementation to use.
// Optional. Default: NO
conf.hasCustomSync = NO;

// iOS only. If set to YES, the file will be backed by icloud.
// Optional.Default: NO
conf.icloud_backup = NO;

FHSyncClient* syncClient = [[FHSyncClient alloc] initWithConfig:conf];</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">var client = FHSyncClient.GetInstance();
var config = new FHSyncConfig();

/// How often to synchronize data with the cloud, in seconds.
/// Default Value : 10
config.SyncFrequency = 10;

/// Should local changes be synchronized to the cloud immediately, or should they wait for the next synchronization interval.
/// Default value : true
config.AutoSyncLocalUpdates = true;

/// How many synchronization cycles to check for updates on crashed in-flight updates.
/// Default value : 10
config.CrashedCountWait = 10;

/// If CrashedCountWait limit is reached, should the client retry sending the crashed in flight pending records.
/// Default value : true
config.ResendCrashedUpdated = true;

/// Is the background sync with the cloud currently active. If this is set to false, the sync loop will not start automatically. You need to call Start to start the synchronization loop.
/// Default value : true
config.SyncActive = true;

/// Set whether to use a legacy FH V2 sync Cloud App, the MBaaS sync service,
/// or automatically select.
/// Values are SyncCloudType.Auto, SyncCloudType.Legacy, SyncCloudType.Mbbas
/// Default value : Auto
config.SyncCloud = SyncCloudType.Auto;

client.Initialise(config);</pre>
					</p></div></section></section><section class="section" id="fh-sync-notify"><div class="titlepage"><div><div><h2 class="title">11.2. $fh.sync.notify</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.notify(callback(data));</pre><section class="section" id="sync-details-2"><div class="titlepage"><div><div><h3 class="title">11.2.1. Details</h3></div></div></div><p>
					Register a callback function to be invoked when the sync service has notifications to communicate to the client.
				</p></section><section class="section" id="sync-example-1"><div class="titlepage"><div><div><h3 class="title">11.2.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">$fh.sync.notify(function(event) {
  // The dataset that the notification is associated with
  var dataset_id = event.dataset_id;

    // The unique identifier that the notification is associated with.
  // This will be the unique identifier for a record if the notification is related to an individual record,
  // or the current hash of the dataset if the notification is associated with a full dataset
  //  (for example, sync_complete)
  var uid = event.uid;

  // Optional free text message with additional information
  var message = event.message;

  // The notification message code
  var code = event.code;
   /* Codes:
    * client_storage_failed: Loading or saving to client storage failed. This is a critical error and the Sync Client will not work properly without client storage.
    * sync_started: A synchronization cycle with the server has been started.
    * sync_complete: A synchronization cycle with the server has been completed.
    * offline_update: An attempt was made to update or delete a record while offline.
    * collision_detected: Update failed due to data collision.
    * remote_update_failed: Update failed for a reason other than data collision.
    * remote_update_applied: An update was applied to the remote data store.
    * local_update_applied: An update was applied to the local data store.
    * delta_received: A change was received from the remote data store for the dataset. It is best to listen to this notification and update the UI accordingly.
    * record_delta_received: A delta was received from the remote data store for the record. It is best to listen to this notification and update UI accordingly.
    * sync_failed: Synchronization loop failed to complete.
    */
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						Synchronization events are sent to the <code class="literal">FHSyncListener</code> instance you registered using <code class="literal">syncClient.init</code>. Each method of the listener is provided a non-null <code class="literal">NotificationMessage</code> parameter.
					</p></div><pre class="programlisting language-java">public class SampleSyncListener implements FHSyncListener {


  public void onSyncStarted(NotificationMessage notificationMessage) {
      /*Data sync is available. Update your UI, enable editing fields,
          display messages to the user, etc.*/
  }

  public void onSyncCompleted(NotificationMessage notificationMessage) {

      /*Sync has completed. Data has been successfully sent to the server or
         successfully received from the server. In either case you should refresh
         the data presented to the user.

      You may retrieve your latest data for this message with
      FHSyncClient.getInstance().list(notificationMessage.getDataId())*/
  }

  public void onUpdateOffline(NotificationMessage notificationMessage) {
      /*A create, delete, or update operation was called, but the device is
      not connected to the network. The UI should be updated, fields disabled,
      user notified, etc.*/
  }

  public void onCollisionDetected(NotificationMessage notificationMessage) {
      /* The update could not be applied to the server. There are many reasons
      why this could happen and it is up to the application developer to
      resolve the collision.

      After the data has been updated to synchronize cleanly, the methods
      FHSyncClient.listCollisions and FHSyncClient.removeCollision can be used
      to view and resolve the collision entries.

      Use FHSyncClient.getInstance().read(notificationMessage.getDataId(),
                                          notificationMessage.getUID())
      to view the data record.

      */
  }

  public void onRemoteUpdateFailed(NotificationMessage notificationMessage) {
      /* The remote updated failed. You may use notificationMessage.getExtraMessage()
      to get additional details.

      Use FHSyncClient.getInstance().read(notificationMessage.getDataId(),
                                          notificationMessage.getUID())
      to view the data record.*/
  }

  public void onRemoteUpdateApplied(NotificationMessage notificationMessage) {
      /* An update was successfully processed by the remote server.

      Use FHSyncClient.getInstance().read(notificationMessage.getDataId(),
                                          notificationMessage.getUID())
      to view the data record.
      */
  }

  public void onLocalUpdateApplied(NotificationMessage notificationMessage) {
      /* An update is applied locally and waiting to be sent to the remote
      server.

      Use FHSyncClient.getInstance().read(notificationMessage.getDataId(),
                                          notificationMessage.getUID())
      to view the data record.
      */
  }

  public void onDeltaReceived(NotificationMessage notificationMessage) {
      /*An incoming update has been applied. The UI should be updated if appropriate.

      Use FHSyncClient.getInstance().read(notificationMessage.getDataId(),
                                          notificationMessage.getUID())
      to view the data record.

      Use FHSyncClient.getInstance().list(notificationMessage.getDataId())
      to load all data records.

      notificationMessage.getExtraMessage() will return the type of operation
      (update, delete, create) which was performed.

      */
  }

  public void onSyncFailed(NotificationMessage notificationMessage) {
      /*
      For some reason the sync loop was unable to complete.  This could be for
      many different reasons such as network connectivity, authentication
      issues, programming errors, etc.

      Use notificationMessage.getExtraMessage() to get extra information.

      */
  }

  public void onClientStorageFailed(NotificationMessage notificationMessage) {
      /*
      Sync was not able to store data locally.  This indicates a device error
      such as out of space, invalid permissions, etc

      Use notificationMessage.getExtraMessage() to get extra information.
      */
  }
}</pre><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						Synchronization notifications are dispatched via the standard <code class="literal">NSNotificationCenter</code> facility. To start receiving <code class="literal">kFHSyncStateChangedNotification</code> notifications, register using the <code class="literal">addObserver:selector:name:object:</code> or <code class="literal">addObserverForName:object:queue:usingBlock:</code> methods of <code class="literal">NSNotificationCenter</code>.
					</p></div><pre class="programlisting language-objectivec">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(onSyncMessage:) name:kFHSyncStateChangedNotification object:nil];

* (void) onSyncMessage:(NSNotification*) note
{
FHSyncNotificationMessage* msg = (FHSyncNotificationMessage*) [note object];
NSString* code = msg.code;
if([code isEqualToString:REMOTE_UPDATE_APPLIED_MESSAGE]) {
}
  /* Codes:
  *
  * NSString *const SYNC_STARTED_MESSAGE = @"SYNC_STARTED";
  * A synchronization cycle with the server has been started.
  *
  * NSString *const SYNC_COMPLETE_MESSAGE = @"SYNC_COMPLETE";
  * A synchronization cycle with the server has been completed.
  *
  * NSString *const SYNC_FAILED_MESSAGE = @"SYNC_FAILED";
  * Synchronization loop failed to complete.
  *
  * NSString *const OFFLINE_UPDATE_MESSAGE = @"OFFLINE_UPDATE";
  * An attempt was made to update or delete a record while offline.
  *
  * NSString *const COLLISION_DETECTED_MESSAGE = @"COLLISION_DETECTED";
  * Update failed due to data collision.
  *
  * NSString *const REMOTE_UPDATE_FAILED_MESSAGE = @"REMOTE_UPDATE_FAILED";
  * Update failed for a reason other than data collision.
  *
  * NSString *const REMOTE_UPDATE_APPLIED_MESSAGE = @"REMOTE_UPDATE_APPLIED";
  * An update was applied to the remote data store.
  *
  * NSString *const LOCAL_UPDATE_APPLIED_MESSAGE = @"LOCAL_UPDATE_APPLIED";
  * An update was applied to the local data store.
  *
  * NSString *const DELTA_RECEIVED_MESSAGE = @"DELTA_RECEIVED";
  * An change was received from the remote data store for the dataset.
  * It's best to listen to this notification and update UI accordingly.
  *
  * NSString *const CLIENT_STORAGE_FAILED_MESSAGE = @"CLIENT_STORAGE_FAILED";
  * Loading or saving to client storage failed. This is a critical error and the Sync Client will not work properly without client storage.
  */
}</pre><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						Synchronization notifications are dispatched via the standard <code class="literal">NSNotificationCenter</code> facility. To start receiving <code class="literal">kFHSyncStateChangedNotification</code> notifications, register using the <code class="literal">addObserver(\_:selector:name:object:)</code> or <code class="literal">addObserverForName(\_:object:queue:usingBlock:)</code> methods of <code class="literal">NSNotificationCenter</code>.
					</p></div><pre class="programlisting language-swift">NotificationCenter.default.addObserver(self,
                                       selector:#selector(onSyncMessage(note:)),
                                       name:Notification.Name(rawValue: "kFHSyncStateChangedNotification"),
                                       object:nil
)

let DATA_ID = "myDataId"
let syncClient = FHSyncClient(config: conf)
syncClient?.manage(withDataId: DATA_ID, andConfig:nil, andQuery:[:])

@objc func onSyncMessage(note: NSNotification) {
    if let msg = note.object as? FHSyncNotificationMessage, let code = msg.code {
        if code == REMOTE_UPDATE_APPLIED_MESSAGE {
        }
        /* Codes:
         *
         * let SYNC_STARTED_MESSAGE = "SYNC_STARTED"
         * A synchronization cycle with the server has been started.
         *
         * let SYNC_COMPLETE_MESSAGE = "SYNC_COMPLETE"
         * A synchronization cycle with the server has been completed.
         *
         * let SYNC_FAILED_MESSAGE = "SYNC_FAILED"
         * Synchronization loop failed to complete.
         *
         * let OFFLINE_UPDATE_MESSAGE = "OFFLINE_UPDATE"
         * An attempt was made to update or delete a record while offline.
         *
         * let COLLISION_DETECTED_MESSAGE = "COLLISION_DETECTED"
         * Update failed due to data collision.
         *
         * let REMOTE_UPDATE_FAILED_MESSAGE = "REMOTE_UPDATE_FAILED"
         * Update failed for a reason other than data collision.
         *
         * let REMOTE_UPDATE_APPLIED_MESSAGE = "REMOTE_UPDATE_APPLIED"
         * An update was applied to the remote data store.
         *
         * let LOCAL_UPDATE_APPLIED_MESSAGE = "LOCAL_UPDATE_APPLIED"
         * An update was applied to the local data store.
         *
         * let DELTA_RECEIVED_MESSAGE = "DELTA_RECEIVED"
         * An change was received from the remote data store for the dataset.
         * It's best to listen to this notification and update UI accordingly.
         *
         * let CLIENT_STORAGE_FAILED_MESSAGE = "CLIENT_STORAGE_FAILED"
         * Loading or saving to client storage failed. This is a critical error and the Sync Client will not work properly without client storage.
         */
    }
}</pre><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						In the following section, <code class="literal">client</code> is a configured and initialised <code class="literal">FHSyncClient</code> instance. You can set event handlers of the type <code class="literal">EventHandler&lt;FHSyncNotificationEventArgs&gt;</code> to the different event types supported by the client.
					</p></div><pre class="programlisting language-csharp">/// The event arguments that will be sent to the sync event listeners
public class FHSyncNotificationEventArgs : EventArgs
{
    /// The id of the dataset
    public string DatasetId { set; get; }

    ///     The unique universal id of the record
    public string Uid { private get; set; }

    ///     Type fo the notification.
    public SyncNotification Code { get; set; }

    ///     An message associated with the event argument. Could be empty.
    public string Message { get; set; }

}

/// Loading or saving to client storage failed. This is a critical error and the Sync Client will not work properly without client storage.
client.ClientStorageFailed += async (sender, args) =&gt; { };

/// A synchronization cycle with the server has been started.
client.SyncStarted += async (sender, args) =&gt; { };

/// A synchronization cycle with the server has been completed.
client.SyncCompleted += async (sender, args) =&gt; { };

/// An attempt was made to update or delete a record while offline.
client.OfflineUpdate += async (sender, args) =&gt; { };

/// Update failed due to data collision.
client.CollisionDetected += async (sender, args) =&gt; { };

/// Update failed for a reason other than data collision.
client.RemoteUpdateFailed += async (sender, args) =&gt; { };

/// An update was applied to the local data store.
client.LocalUpdateApplied += async (sender, args) =&gt; { };

/// An update was applied to the remote data store.
client.RemoteUpdateApplied += async (sender, args) =&gt; { };

/// A change was received from the remote data store for the dataset. It's best to listen to this notification and update UI accordingly.
client.DeltaReceived += async (sender, args) =&gt; { };

/// A delta was received from the remote data store for the record. It's best to listen to this notification and update UI accordingly.
client.RecordDeltaReceived += async (sender, args) =&gt; { };

/// Synchronization loop failed to complete.
client.SyncFailed += async (sender, args) =&gt; { };</pre></section><section class="section" id="fh-sync-notifications"><div class="titlepage"><div><div><h3 class="title">11.2.3. Sync Notifications</h3></div></div></div><p>
					This section describes the notification structures for the JavaScript SDK. The Objective-C, Swift, Android and .NET SDKs all define notification structure with dedicated objects, however the JavaScript information should be useful for all SDKs.
				</p><p>
					Notifications in the JavaScript SDK have the following structure:
				</p><pre class="programlisting">{
  "dataset_id": String,
  "uid": [String],
  "code": String,
  "message": Object|String
}</pre><p>
					where:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">dataset_id</code> is the name of the dataset relating to the notification.
						</li><li class="listitem">
							<code class="literal">uid</code> is the the UID of the related record. This is either a temporary UID for a non-persisted record (record hash), or a permanent UID for a persisted record. The value for <code class="literal">uid</code> can be <code class="literal">null</code> when the notification does not refer to a specific record, for example, <code class="literal">sync_started</code>, <code class="literal">sync_failed</code> and <code class="literal">local_update_applied</code>. Also, there is no <code class="literal">uid</code> entry for some notifications, for example, <code class="literal">sync_complete</code>. See individual notification structures for more details.
						</li><li class="listitem">
							<code class="literal">code</code> is the identifier for the type of notification, for example, <code class="literal">sync_started</code>.
						</li><li class="listitem">
							<code class="literal">message</code> is the extra data sent along with the notification and is different for each notification. See details of each notification for more information.
						</li></ul></div><section class="section" id="fh-sync-notifications-sync-started"><div class="titlepage"><div><div><h4 class="title">11.2.3.1. Sync Started</h4></div></div></div><p>
						A sync loop is started. This notification is sent once per sync loop regardless of whether the client is online or offline.
					</p><section class="section" id="notification_code"><div class="titlepage"><div><div><h5 class="title">11.2.3.1.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Javascript - <code class="literal">sync_started</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">SYNC_STARTED</code>
								</li></ul></div></section><section class="section" id="notification_structure"><div class="titlepage"><div><div><h5 class="title">11.2.3.1.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id": "myDataset",
  "uid": null, <span id="CO1-1"/><span class="callout">1</span>
  "code": "sync_started",
  "message": null <span id="CO1-2"/><span class="callout">2</span>
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO1-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">uid</code> is always <code class="literal">null</code>.
								</div></dd><dt><a href="#CO1-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									<code class="literal">message</code> is always <code class="literal">null</code>.
								</div></dd></dl></div></section></section><section class="section" id="fh-sync-notifications-sync-complete"><div class="titlepage"><div><div><h4 class="title">11.2.3.2. Sync Complete</h4></div></div></div><p>
						A sync loop is complete. A sync loop includes the initial sync request to the backend and any further requests or actions that are taken as a result of the response. This notification does not occur in the same sync loop as a <code class="literal">sync_failed</code> event, that is, a sync loop can either complete or fail.
					</p><section class="section" id="notification_code_2"><div class="titlepage"><div><div><h5 class="title">11.2.3.2.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">sync_complete</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">SYNC_COMPLETE</code>
								</li></ul></div></section><section class="section" id="notification_structure_2"><div class="titlepage"><div><div><h5 class="title">11.2.3.2.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id": "myDataset",
  "code": "sync_complete",
  "message": "online" // message is always "online"
}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								<code class="literal">uid</code> never appears as part of this structure.
							</p></div></div></section></section><section class="section" id="fh-sync-notifications-sync-failed"><div class="titlepage"><div><div><h4 class="title">11.2.3.3. Sync Failed</h4></div></div></div><p>
						The sync loop failed to complete. This can occur in the following circumstances: * The sync client is offline during the sync loop. * A sync or sync records request receives an error code in the response, for example, 500. Sync failed notifications are only sent if the <code class="literal">notify_sync_failed</code> option is set to <code class="literal">true</code>.
					</p><section class="section" id="notification_code_3"><div class="titlepage"><div><div><h5 class="title">11.2.3.3.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">sync_failed</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">SYNC_FAILED</code>
								</li></ul></div></section><section class="section" id="notification_structure_3"><div class="titlepage"><div><div><h5 class="title">11.2.3.3.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id": "myDataset",
  "uid": "a3387ce5d175cf73ec5f5d7614c7c6b4f44393f2_1",
  "code": "sync_failed",
  "message": "offline" <span id="CO2-1"/><span class="callout">1</span>
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO2-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">message</code> is "offline" when the client is offline. In other cases, the message contains the failed response message from the sync server.
								</div></dd></dl></div></section></section><section class="section" id="fh-sync-notifications-record-delta-received"><div class="titlepage"><div><div><h4 class="title">11.2.3.4. Record Delta Received</h4></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This notification only exists in the JavaScript SDK. Delta Received performs the same task in all other SDKs.
						</p></div></div><p>
						A change is received by the remote datastore for a record. This notification occurs for each change (<code class="literal">update</code>, <code class="literal">delete</code>, <code class="literal">create</code>) returned in a sync response.
					</p><section class="section" id="notification_code_4"><div class="titlepage"><div><div><h5 class="title">11.2.3.4.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">record_delta_received</code>
								</li></ul></div></section><section class="section" id="notification_structure_4"><div class="titlepage"><div><div><h5 class="title">11.2.3.4.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id": "myDataset",
  "uid": "58e3b2cff7fc7297eb635053",
  "code": "record_delta_received",
  "message": "update" <span id="CO3-1"/><span class="callout">1</span>
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO3-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">message</code> can be "create", "update" or "delete".
								</div></dd></dl></div></section></section><section class="section" id="fh-sync-notifications-delta-received"><div class="titlepage"><div><div><h4 class="title">11.2.3.5. Delta Received</h4></div></div></div><p>
						A change is received by a remote datastore for a dataset. In the JavaScript SDK this occurs once for each sync records call. This differs from the <code class="literal">record_delta_received</code> event because it occurs only once even if there are multiple changes and the event object provides the global hash. Use this notification to know if updates have been received from the backend, but do not require knowledge about the changes.
					</p><p>
						In the Objective-C, Swift and Android SDKs this notification acts as the <code class="literal">record_delta_received</code> notification, that is, it occurs once for each update returned by the sync server.
					</p><section class="section" id="notification_code_5"><div class="titlepage"><div><div><h5 class="title">11.2.3.5.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">delta_received</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">DELTA_RECEIVED</code>
								</li></ul></div></section><section class="section" id="notification_structure_5"><div class="titlepage"><div><div><h5 class="title">11.2.3.5.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id": "myDataset",
  "uid": "a3387ce5d175cf73ec5f5d7614c7c6b4f44393f2_1",
  "code": "delta_received",
  "message": "partial dataset" <span id="CO4-1"/><span class="callout">1</span>
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO4-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">message</code> is always "partial dataset".
								</div></dd></dl></div></section></section><section class="section" id="fh-sync-notifications-local-update-applied"><div class="titlepage"><div><div><h4 class="title">11.2.3.6. Local Update Applied</h4></div></div></div><p>
						A change is applied to a local dataset. This happens in the following circumstances: * A dataset is loaded from local data storage. * A dataset is updated locally with a new pending record, for example, a user creating a new record. This notification does not occur when a change is received from the server that originated on another client. If you want to check for that type of change, use the <code class="literal">record_delta_received</code> event.
					</p><section class="section" id="notification_code_6"><div class="titlepage"><div><div><h5 class="title">11.2.3.6.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">local_update_applied</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">LOCAL_UPDATE_APPLIED</code>
								</li></ul></div></section><section class="section" id="notification_structure_6"><div class="titlepage"><div><div><h5 class="title">11.2.3.6.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id":"myDataset",
  "uid":"8783f802c8d43053ee2bf02009dd79d89b186afb",
  "code":"local_update_applied",
  "message":"update" <span id="CO5-1"/><span class="callout">1</span>
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO5-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">message</code> can be "load", "create", "update" or "delete".
								</div></dd></dl></div></section></section><section class="section" id="fh-sync-notifications-remote-update-applied"><div class="titlepage"><div><div><h4 class="title">11.2.3.7. Remote Update Applied</h4></div></div></div><p>
						An update is applied to the remote datastore. This notification occurs once for each record that has been successfully applied on the backend.
					</p><section class="section" id="notification_code_7"><div class="titlepage"><div><div><h5 class="title">11.2.3.7.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">remote_update_applied</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">REMOTE_UPDATE_APPLIED</code>
								</li></ul></div></section><section class="section" id="notification_structure_7"><div class="titlepage"><div><div><h5 class="title">11.2.3.7.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id":"myDataset",
  "uid":"58e3b2e6f7fc7297eb635100",
  "code":"remote_update_applied",
  "message":{ <span id="CO6-1"/><span class="callout">1</span>
    "_id":"58e3b2e60d6412349926e95b",
    "action":"create",
    "cuid":"5733885DDC134A6FA9754BA67E4E4BAC",
    "hash":"66c3961bc1dc7139427a95d3471a27ae30d4cb96",
    "msg":null,
    "oldUid":"66c3961bc1dc7139427a95d3471a27ae30d4cb96",
    "timestamp":1491317478112,
    "type":"applied",
    "uid":"58e3b2e6f7fc7297eb635100"
  }
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO6-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">message</code> is an <code class="literal">update</code> object received from the sync server.
								</div></dd></dl></div></section></section><section class="section" id="fh-sync-notifications-remote-update-failed"><div class="titlepage"><div><div><h4 class="title">11.2.3.8. Remote Update Failed</h4></div></div></div><p>
						An update failed to be applied to the remote datastore. This notification occurs once for each record that failed to be applied. The typical reason for an update failing is that the data could not be persisted to the remote datastore.
					</p><section class="section" id="notification_code_8"><div class="titlepage"><div><div><h5 class="title">11.2.3.8.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">remote_update_failed</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">REMOTE_UPDATE_FAILED</code>
								</li></ul></div></section><section class="section" id="notification_structure_8"><div class="titlepage"><div><div><h5 class="title">11.2.3.8.2. Notification Structure</h5></div></div></div><p>
							Similar to <code class="literal">remote_update_applied</code>, but with the <code class="literal">code</code> changed.
						</p></section></section><section class="section" id="fh-sync-notifications-collision-detected"><div class="titlepage"><div><div><h4 class="title">11.2.3.9. Collision Detected</h4></div></div></div><p>
						A collision is found on the sync server. This notification occurs once for each collision that is detected by the sync server. A collision occurs when an out-of-date client attempts to update a record that has changed state. How the collision is handled is determined by the server-side collision handler.
					</p><section class="section" id="notification_code_9"><div class="titlepage"><div><div><h5 class="title">11.2.3.9.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">collision_detected</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">COLLISION_DETECTED</code>
								</li></ul></div></section><section class="section" id="notification_structure_9"><div class="titlepage"><div><div><h5 class="title">11.2.3.9.2. Notification Structure</h5></div></div></div><p>
							Similar to <code class="literal">remote_update_applied</code>, but with the <code class="literal">code</code> changed.
						</p></section></section><section class="section" id="fh-sync-notifications-offline-update"><div class="titlepage"><div><div><h4 class="title">11.2.3.10. Offline Update</h4></div></div></div><p>
						A record is added, updated or removed from the dataset while the client is offline.
					</p><section class="section" id="notification_code_10"><div class="titlepage"><div><div><h5 class="title">11.2.3.10.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">offline_update</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">OFFLINE_UPDATE</code>
								</li></ul></div></section><section class="section" id="notification_structure_10"><div class="titlepage"><div><div><h5 class="title">11.2.3.10.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id":"myDataset",
  "uid":"58e3b2cff7fc7297eb635053",
  "code":"offline_update",
  "message":"update" <span id="CO7-1"/><span class="callout">1</span>
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO7-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">message</code> can be "create", "update" or "delete".
								</div></dd></dl></div></section></section><section class="section" id="fh-sync-notifications-client-storage-failed"><div class="titlepage"><div><div><h4 class="title">11.2.3.11. Client Storage Failed</h4></div></div></div><p>
						The underlying data storage of sync (Lawnchair) encountered an issue. This could happen in the case where a query fails to complete.
					</p><section class="section" id="notification_code_11"><div class="titlepage"><div><div><h5 class="title">11.2.3.11.1. Notification Code</h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									JavaScript - <code class="literal">client_storage_failed</code>
								</li><li class="listitem">
									Objective-C/Swift - <code class="literal">CLIENT_STORAGE_FAILED</code>
								</li></ul></div></section><section class="section" id="notification_structure_11"><div class="titlepage"><div><div><h5 class="title">11.2.3.11.2. Notification Structure</h5></div></div></div><pre class="programlisting language-javascript">{
  "dataset_id": "myDataset",
  "uid": null, <span id="CO8-1"/><span class="callout">1</span>
  "code": "client_storage_failed",
  "message": "load from local storage failed"
}</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO8-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									<code class="literal">uid</code> is always <code class="literal">null</code>.
								</div></dd></dl></div></section></section></section></section><section class="section" id="fh-sync-manage"><div class="titlepage"><div><div><h2 class="title">11.3. $fh.sync.manage</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.manage(dataset_id, options, query_params, meta_data, callback);</pre><section class="section" id="sync-details-3"><div class="titlepage"><div><div><h3 class="title">11.3.1. Details</h3></div></div></div><p>
					Put a dataset under the management of the sync service. Calling manage multiple times for the same dataset will update the options and query_params but will not result in the dataset syncing multiple times.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Use MongoDB query syntax when setting a value for query_params.
					</p></div></div></section><section class="section" id="sync-example-2"><div class="titlepage"><div><div><h3 class="title">11.3.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

// Configuration options object.
// These override the options passed to init.
var options = {
"sync_frequency": 30 // Sync every 30 seconds for the 'tasks' dataset
};

// Parameters object to be passed to the cloud sync service.
// It will be passed to the dataHandler when listing dataset on the back end.
// If the default MBaaS cloud implementation is used (which uses $fh.db for data handlers), all the valid list options can be used here.
// For example, to list the tasks that are assigned to a user called "Tom", the query params should be
var query_params = {
"$eq": {
"assigned": "Tom"
}
};

// Extra params that will be sent to the back-end data handlers.
var meta_data = {};
$fh.sync.manage(dataset_id, options, query_params, meta_data, function(){
console.log('dataset ' + dataset_id + ' is now managed by sync');
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						
<pre class="programlisting language-java">//queryParams are any query supported by $fh.db
JSONObject queryParams = new JSONObject();

//MetaData such as sessionTokens, userIds, etc
JSONObject metaData = new JSONObject();

//Any String identifier
String dataSet = "myDataSetId";

// If configOverride is null then the config provided in FHSyncClient.init
// will be used instead.
FHSyncConfig configOverride = null;

FHSyncClient.getInstance().manage(dataSet, configOverride, queryParams, metaData);</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.
#define DATA_ID @"tasks"

// Configuration options object.
// These override the options passed to init.
FHSyncConfig* conf = [[FHSyncConfig alloc] init];
conf.syncFrequency = 10;

// Parameters object to be passed to the cloud sync service.
// For example, to list the tasks that are assigned to a user called "Tom":
NSDictionary* query = @{@"assigned": @"Tom"};

// Extra params that will be sent to the back-end data handlers.
NSMutableDictionary* metaData = nil;

// Initialise Sync Client
FHSyncClient* syncClient = [[FHSyncClient alloc] initWithConfig:conf];

// Put a dataset under the management of the sync service.
[syncClient manageWithDataId:DATA_ID AndConfig:conf AndQuery:query AndMetaData:metaData];</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">public let DATA_ID = "tasks"

// Configuration options object.
// These override the options passed to init.
let conf = FHSyncConfig()
conf?.syncFrequency = 10

// Parameters object to be passed to the cloud sync service.
// For example, to list the tasks that are assigned to a user called "Tom":
let query = ["assigned": "Tom"]

// Initialise Sync Client
let syncClient = FHSyncClient(config: conf)

// Put a dataset under the management of the sync service.
syncClient.manageWithDataId(DATA_ID, andConfig:conf, andQuery:query)</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						In the following section, <code class="literal">client</code> is a configured and initialised FHSyncClient instance. DataSets managed by FHSyncClient on the Windows platforms must implement the interface <code class="literal">IFHSyncModel</code>.
					</p></div><pre class="programlisting language-csharp">/// The datasetId needs to be unique for your app and will be used to name the
/// collection in the cloud.
const string DatasetId = "tasks";

/// Query is a Dictionary of parameters to be sent to the server with each sync
/// operation. If the default MBaaS cloud implementation is used (which uses
/// $fh.db for data handlers), all the valid list options can be used here.
/// For example, to list the tasks that are assigned to a user called "Tom",
/// the query params should be
Dictionary&lt;string, string&gt; query = new Dictionary&lt;string, string&gt;
{
{"eq", "{"assigned", "Tom"}"}
};

/// When you manage a DataSet you may set new configuration parameters to
/// override the parameters for the sync client. If you do not wish to do this,
/// you may pass null into the FHSyncClient.manage method.
var config = new FHSyncConfig();
config.SyncFrequency = 100;

/// Put a dataset under the management of the sync service. Note that Task
/// is an implementation of the IFHSyncModel.
client.Manage&lt;Task&gt;(DatasetId, config, query);</pre></section></section><section class="section" id="fh-sync-dolist"><div class="titlepage"><div><div><h2 class="title">11.4. $fh.sync.doList</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.doList(dataset_id, success, failure);</pre><section class="section" id="sync-details-4"><div class="titlepage"><div><div><h3 class="title">11.4.1. Details</h3></div></div></div><p>
					Get a list of the records for the dataset.
				</p></section><section class="section" id="sync-example-3"><div class="titlepage"><div><div><h3 class="title">11.4.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">// Unique Id for the dataset to manage.
// This must correspond to an “act” function which represents the cloud portion of the sync contract.
var dataset_id = 'tasks';

$fh.sync.doList(dataset_id, function(res) {
// The data returned by the sync service.
// Always a full data set (even in the case of deltas).
console.log(res);

//res is a JSON object
for(var key in res){
  if(res.hasOwnProperty(key)){
    // Unique Id of the record, used for read, update &amp; delete operations (string).
    var uid = key;
    // Record data, opaque to sync service.
    var data = res[key].data;
    // Unique hash value for this record
    var hash = res[key].hash;
  }
}

}, function(code, msg) {
// Error code. Currently only 'unknown_dataset' is possible
console.error(code);

// Optional free text message with additional information
console.error(msg);

});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						
<pre class="programlisting language-java">FHClient fhClient = FHSyncClient.getInstance();

// Unique Id for the dataset being manage.
String dataSetId = "photos";

// The data returned by the sync service.
// Always a full data set (even in the case of deltas).
JSONObject allData = fhClient.getSyncClient().list("photos");

Iterator&lt;String&gt; keysIterator = allData.keys();
List&lt;Project&gt; itemsToSync = new ArrayList&lt;&gt;();

while (keysIterator.hasNext()) {
// Unique Id of the record, used for read,
//update &amp; delete operations (string).
String uid = keysIterator.next();

  // Record data
  JSONObject record = allData.getJSONObject(uid);

  // The synced data object.  In Android this can be a JSON serialized POJO
  JSONObject dataObj = data.getJSONObject("data");

  // Unique hash value for this record
  String hash = records.getString("hash");

}

projects.addAll(itemsToSync);
bus.post(new ProjectsAvailable(new ArrayList&lt;Project&gt;(projects)));</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.
#define DATA_ID @"tasks"

// The data returned by the sync service.
// Always a full data set (even in the case of deltas).
NSDictionary* items = [syncClient listWithDataId:DATA_ID];
[items enumerateKeysAndObjectsUsingBlock:^(id key, id obj, BOOL *stop) {
// Unique Id of the record, used for read,
// update &amp; delete operations (string).
NSString* uid = key; +
// Record data
NSDictionary* object = obj;
NSDictionary* dataObj = object[@"data"];
uid = object[@"uid"];
}];</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">// Unique Id for the dataset to manage.
public let DATA_ID = "tasks"
// The data returned by the sync service.
// Always a full data set (even in the case of deltas).
let items = syncClient.listWithDataId(DATA_ID)
for (key, value) in items {
if let data = value["data"], let uid = value["uid"] {
// do something with item
}
}</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">/// The datasetId needs to be unique for your app and will be used to name the
/// collection in the cloud.
const string DatasetId = "tasks";

foreach (var item in client.List&lt;Task&gt;(DatasetId))
{
/// Do Something with item
}</pre>
					</p></div></section></section><section class="section" id="fh-sync-docreate"><div class="titlepage"><div><div><h2 class="title">11.5. $fh.sync.doCreate</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.doCreate(dataset_id, data, success, failure);</pre><section class="section" id="sync-details-5"><div class="titlepage"><div><div><h3 class="title">11.5.1. Details</h3></div></div></div><p>
					Update the data associated with the unique id.
				</p></section><section class="section" id="sync-example-4"><div class="titlepage"><div><div><h3 class="title">11.5.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

// Record data to create, opaque to sync service.
var data = {
"name": "Organise widgets",
"time": Date.now() + 100000,
"user": "joe@bloggs.com"
};

$fh.sync.doCreate(dataset_id, data, function(res) {
// The update record which will be sent to the cloud
console.log(res);
}, function(code, msg) {
// Error code. One of 'unknown_dataset' or 'unknown_id'
console.error(code);

// Optional free text message with additional information
console.error(msg);

});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						
<pre class="programlisting language-java">String dataSetId = "tasks";

// Record data to create
JSONObject data = new JSONObject();
data.put("name", "Organise widgets");
data.put("time", new Date().getTime() + 100000);
data.put("user", "joe@bloggs.com");

syncClient.create(dataSetId, data);</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.

#define DATA_ID @"tasks"

NSDate* now = [NSDate date];
NSMutableDictionary* data = [NSMutableDictionary dictionary];
[data setObject:shoppingItem.name forKey:@"name"];
[data setObject:[NSNumber numberWithLongLong:[now timeIntervalSince1970]*1000] forKey:@"created"];
[syncClient createWithDataId:DATA_ID AndData:data];</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">// Unique Id for the dataset to manage.
public let DATA_ID = "tasks"

let myItem: [String: AnyObject] = ["name": name, "created": created*1000]

syncClient.createWithDataId(DATA_ID, andData: myItem)</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						In the following section, <code class="literal">client</code> is a configured and initialised FHSyncClient instance. Task is a class which implements <code class="literal">IFHSyncModel</code> and has a <code class="literal">string Name</code> property .
					</p></div><pre class="programlisting language-csharp">/// The datasetId needs to be unique for your app and will be used to name the
/// collection in the cloud.
const string DatasetId = "tasks";

Task task = new Task();
task.Name = "task name";

client.Create(MainPage.DatasetId, task);</pre></section></section><section class="section" id="fh-sync-doread"><div class="titlepage"><div><div><h2 class="title">11.6. $fh.sync.doRead</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.doRead(dataset_id, uid, success, failure);</pre><section class="section" id="sync-details-6"><div class="titlepage"><div><div><h3 class="title">11.6.1. Details</h3></div></div></div><p>
					Read a single data record.
				</p></section><section class="section" id="sync-example-5"><div class="titlepage"><div><div><h3 class="title">11.6.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

// Unique Id of the record to read.
var uid = '42abcdefg';

$fh.sync.doRead(dataset_id, uid, function(data) {
// The record data
console.log(data.data); //the data fileds
console.log(data.hash); //the hash value of the data
}, function(code, msg) {
// Error code. One of 'unknown_dataset' or 'unknown_id'
console.error(code);

// Optional free text message with additional information
console.error(msg);
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						
<pre class="programlisting language-java">//name of dataset to manage
String dataSetId = "tasks";

// Unique Id of the record to read.
String uid = "42abcdefg";

JSONObject record = FHSyncClient.getInstance().read(dataSetId, uid);

if (data != null) {
JSONObject document = record.getJSONObject("data");
String uid = record.getString("uid");
}</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.

#define DATA_ID @"tasks"

// The data returned by the sync service.
// Always a full data set (even in the case of deltas).
NSDictionary* item = [syncClient readWithDataId:DATA_ID AndUID:@"42abcdefg"];</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">// Unique Id for the dataset to manage.
public let DATA_ID = "tasks"

// The data returned by the sync service.
// Always a full data set (even in the case of deltas).
let item = syncClient.readWithDataId(DATA_ID, andUID: "42abcdefg")</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">string datasetId = "tasks";

/// Unique Id of the record to read.
string uid = "42abcdefg";

Task task = client.Read(datasetId, uid);</pre>
					</p></div></section></section><section class="section" id="fh-sync-doupdate"><div class="titlepage"><div><div><h2 class="title">11.7. $fh.sync.doUpdate</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.doUpdate(dataset_id, uid, data, success, failure);</pre><section class="section" id="sync-details-7"><div class="titlepage"><div><div><h3 class="title">11.7.1. Details</h3></div></div></div><p>
					Update the data associated with the unique id.
				</p></section><section class="section" id="sync-example-6"><div class="titlepage"><div><div><h3 class="title">11.7.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

// Unique Id of the record to update.
var uid = '42abcdefg';

// Record data to update. Note that you need to provide the FULL data to update.
$fh.sync.doRead(dataset_id, uid, function(data){
var fields = data.data;
fields.name = "Organise layouts";
$fh.sync.doUpdate(dataset_id, uid, fields, function(data) {
// The updated record which will be send to the cloud
console.log(data);
}, function(code, msg) {
// Error code. One of 'unknown_dataset' or 'unknown_id'
console.error(code);

  // Optional free text message with additional information
  console.error(msg);
});
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						
<pre class="programlisting language-java">// name of dataset to manage
String dataSetId = "tasks";

// Unique Id of the record to read and update.
String uid = "42abcdefg";

// Fetch a record
JSONObject record = FHSyncClient.getInstance().read(dataSetId, uid);

// Fetch the data of the record and change a field
JSONObject data = record.getJSONObject("data");
data.set("newField","newValue");

// Update the data in the sync system
FHSyncClient.getInstance().update(dataSetId, uid, data);</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.
#define DATA_ID @"tasks"

// The Updated data
NSDate* now = [NSDate date];
NSMutableDictionary* data = [NSMutableDictionary dictionary];
[data setObject:shoppingItem.name forKey:@"name"];
[data setObject:[NSNumber numberWithLongLong:[now timeIntervalSince1970]*1000] forKey:@"created"];

NSDictionary* item = [syncClient updateWithDataId:DATA_ID AndUID:@"42abcdefg" AndData:data];</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">// Unique Id for the dataset to manage.
public let DATA_ID = "tasks"

// The Updated data
let myItem: [String: AnyObject] = ["name": name, "created": created*1000]
syncClient.updateWithDataId(DATA_ID, andUID: uid, andData: myItem)</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">string datasetId = "tasks";

/// Unique Id of the record to read.
string uid = "42abcdefg";

Task task = client.Read(datasetId, uid);

task.Name = "new name";

Task task = client.Update(datasetId, task);</pre>
					</p></div></section></section><section class="section" id="fh-sync-dodelete"><div class="titlepage"><div><div><h2 class="title">11.8. $fh.sync.doDelete</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.doDelete(dataset_id, uid, success, failure);</pre><section class="section" id="sync-details-8"><div class="titlepage"><div><div><h3 class="title">11.8.1. Details</h3></div></div></div><p>
					Delete the data associated with the unique id.
				</p></section><section class="section" id="sync-example-7"><div class="titlepage"><div><div><h3 class="title">11.8.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

// Unique Id of the record to delete.
var uid = '42abcdefg';

$fh.sync.doDelete(dataset_id, uid, function(data) {
// The deleted record data sent to the cloud.
console.log(data);
}, function(code, msg) {
// Error code. One of 'unknown_dataset' or 'unknown_id'
console.error(code);

// Optional free text message with additional information
console.error(msg);
}</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						
<pre class="programlisting language-java">// name of dataset to manage
String dataSetId = "tasks";

// Unique Id of the record to remove.
String uid = "42abcdefg";

FHSyncClient.getInstance().delete(dataSetId, uid);</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.

#define DATA_ID @"tasks"

NSDictionary* item = [syncClient deleteWithDataId:DATA_ID AndUID:@"42abcdefg"];</pre>
					</p></div><p>
					&lt;div class="tab-pane" id="example-doDelete-swift"&gt;
				</p><pre class="programlisting language-swift">// Unique Id for the dataset to manage.
public let DATA_ID = "tasks"

syncClient.deleteWithDataId(DATA_ID, andUID: uid)</pre><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">string datasetId = "tasks";

/// Unique Id of the record to delete.
string uid = "42abcdefg";

client.Delete(datasetId, uid);</pre>
					</p></div></section></section><section class="section" id="fh-sync-startsync"><div class="titlepage"><div><div><h2 class="title">11.9. $fh.sync.startSync</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.startSync(dataset_id, success, failure)</pre><section class="section" id="sync-details-9"><div class="titlepage"><div><div><h3 class="title">11.9.1. Details</h3></div></div></div><p>
					Start the sync loop if 'sync_active' option is set to false.
				</p></section><section class="section" id="sync-example-8"><div class="titlepage"><div><div><h3 class="title">11.9.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

$fh.sync.startSync(dataset_id, function(){
console.log('sync loop started');
}, function(error){
console.log('failed to start sync loop. Error : ' + error);
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						The <a class="link" href="http://developer.android.com/training/basics/activity-lifecycle/index.html">Activity lifecycle</a> must be considered if your <code class="literal">FHSyncListener</code> references an Activity or Fragment. The <code class="literal">pauseSync</code> and <code class="literal">resumeSync</code> methods are created for this situation. There is also a <code class="literal">destroy</code> method which shuts down synchronization entirely.
					</p></div><pre class="programlisting language-java">// Synchronization is automatically started by the FHSyncClient.init method.
// However, synchronization may be paused and resumed in the Activity
// lifecycle onPause and onResume methods.

@Override
public void onPause() {
super.onPause();
FHSyncClient.getInstance().pauseSync();
}

@Override
public void onResume() {
super.onResume();
FHSyncClient.getInstance().resumeSync(new FHSyncListener() { });
}

public void onDestroy() {
super.onDestroy();
FHSyncClient.getInstance().destroy();
}</pre><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						There is no <code class="literal">startSync</code> method in the iOS Synchronization API. Synchronization is started with the <a class="link" href="#fh-sync-init" title="11.1. $fh.sync.init">init</a> method.
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						There is no <code class="literal">startSync</code> method in the iOS Synchronization API. Synchronization is started with the <a class="link" href="#fh-sync-init" title="11.1. $fh.sync.init">init</a> method.
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">string datasetId = "tasks";

client.Start(datasetId);</pre>
					</p></div></section></section><section class="section" id="fh-sync-stopsync"><div class="titlepage"><div><div><h2 class="title">11.10. $fh.sync.stopSync</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.stopSync(dataset_id, success, failure)</pre><section class="section" id="sync-details-10"><div class="titlepage"><div><div><h3 class="title">11.10.1. Details</h3></div></div></div><p>
					Stop the sync loop for a dataset.
				</p></section><section class="section" id="sync-example-9"><div class="titlepage"><div><div><h3 class="title">11.10.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

$fh.sync.stopSync(dataset_id, function(){
console.log('sync loop stopped');
}, function(error){
console.log('failed to stop sync loop. Error : ' + error);
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						The <code class="literal">stop</code> function will stop synchronizing a dataset but it will not remove the <code class="literal">FHSyncListener</code> attached to the <code class="literal">FHSyncClient</code> instance.
					</p></div><pre class="programlisting language-java">String dataSetId = "tasks";

FHSyncClient.getInstance().stop(dataSetId);</pre><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.

#define DATA_ID @"tasks"

[syncClient stopWithDataId:DATA_ID];</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">// Unique Id for the dataset to manage.
public let DATA_ID = "tasks"

syncClient.stopWithDataId(DATA_ID)</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">string datasetId = "tasks";

client.Stop(datasetId);</pre>
					</p></div></section></section><section class="section" id="fh-sync-dosync"><div class="titlepage"><div><div><h2 class="title">11.11. $fh.sync.doSync</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.doSync(dataset_id, success, failure)</pre><section class="section" id="sync-details-11"><div class="titlepage"><div><div><h3 class="title">11.11.1. Details</h3></div></div></div><p>
					Run the sync loop almost immediately (within next 500 ms) if <code class="literal">sync_active</code> is true.
				</p></section><section class="section" id="sync-example-10"><div class="titlepage"><div><div><h3 class="title">11.11.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

$fh.sync.doSync(dataset_id, function(){
console.log('sync loop will run');
}, function(error){
console.log('failed to run sync loop. Error : ' + error);
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						There is no <code class="literal">doSync</code> method in the Android SDK. Use <a class="link" href="#fh-sync-forcesync" title="11.12. $fh.sync.forceSync">forceSync</a> instead.
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						There is no <code class="literal">doSync</code> method in the iOS Synchronization API. Use <a class="link" href="#fh-sync-forcesync" title="11.12. $fh.sync.forceSync">forceSync</a> instead.
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						There is no <code class="literal">doSync</code> method in the iOS Synchronization API. Use <a class="link" href="#fh-sync-forcesync" title="11.12. $fh.sync.forceSync">forceSync</a> instead.
					</p></div><div class="formalpara"><p class="title"><strong>NET (C#)</strong></p><p>
						There is no <code class="literal">doSync</code> method in the Windows Synchronization API. Use <a class="link" href="#fh-sync-forcesync" title="11.12. $fh.sync.forceSync">ForceSync</a> instead.
					</p></div></section></section><section class="section" id="fh-sync-forcesync"><div class="titlepage"><div><div><h2 class="title">11.12. $fh.sync.forceSync</h2></div></div></div><pre class="programlisting language-javascript">$fh.sync.forceSync(dataset_id, success, failure)</pre><section class="section" id="sync-details-12"><div class="titlepage"><div><div><h3 class="title">11.12.1. Details</h3></div></div></div><p>
					Run the sync loop almost immediately (within next 500 ms) even if <code class="literal">sync_active</code> is false.
				</p></section><section class="section" id="sync-example-11"><div class="titlepage"><div><div><h3 class="title">11.12.2. Example</h3></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
						
<pre class="programlisting language-javascript">var dataset_id = 'tasks';

$fh.sync.forceSync(dataset_id, function(){
  console.log('sync loop will run');
}, function(error){
  console.log('failed to run sync loop. Error : ' + error);
});</pre>
					</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
						If a <code class="literal">FHSyncClient</code> has been "destroyed" with <code class="literal">FHSyncClient.destroy()</code>, you must call <code class="literal">init</code> again before calling <code class="literal">forceSync</code>. When synchronization is paused, a synchronization loop is still performed, but no listeners are attached and no events are fired.
					</p></div><pre class="programlisting language-java">String dataSetId = "tasks";

FHSyncClient.getInstance().forceSync(dataSetId);</pre><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
						
<pre class="programlisting language-objectivec">// Unique Id for the dataset to manage.

#define DATA_ID @"tasks"

[syncClient forceSync:DATA_ID];</pre>
					</p></div><div class="formalpara"><p class="title"><strong>iOS (Swift)</strong></p><p>
						
<pre class="programlisting language-swift">// Unique Id for the dataset to manage.
public let DATA_ID = "tasks"

syncClient.forceSync(DATA_ID)</pre>
					</p></div><div class="formalpara"><p class="title"><strong> .NET (C#)</strong></p><p>
						
<pre class="programlisting language-csharp">string datasetId = "tasks";

client.ForceSync(datasetId);</pre>
					</p></div></section></section></section><section class="chapter" id="fh-act"><div class="titlepage"><div><div><h1 class="title">Chapter 12. $fh.act</h1></div></div></div><div class="admonition caution"><div class="admonition_header">Caution</div><div><p>
			This API is now deprecated. Use <a class="link" href="#fh-cloud" title="Chapter 2. $fh.cloud">$fh.cloud</a> instead.
		</p></div></div><pre class="programlisting language-javascript">$fh.act(options, success, failure);</pre><p>
			Call cloud-side JavaScript functions which receive a JSON object as input and return a JSON object as output.
		</p><div class="itemizedlist" id="act-supported-platforms"><p class="title"><strong>Supported Platforms</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					JavaScript SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Cordova
						</li><li class="listitem">
							Web Apps
						</li></ul></div></li><li class="listitem">
					Android SDK
				</li><li class="listitem">
					iOS Objective-C SDK
				</li><li class="listitem">
					iOS Swift SDK
				</li><li class="listitem"><p class="simpara">
					.NET SDK
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Xamarin
						</li></ul></div></li></ul></div><p>
			For detailed version information, see <a class="link" href="https://access.redhat.com/node/2357761">Supported Configurations</a>.
		</p><section class="section" id="act-example"><div class="titlepage"><div><div><h2 class="title">12.1. Example</h2></div></div></div><div class="formalpara"><p class="title"><strong>JavaScript</strong></p><p>
					
<pre class="programlisting language-javascript">$fh.act({
  "act": "getTweets", // Name of the Cloud function to call
  "req": {
    "qs": "feedhenry" // Set of key/value pairs that are passed as paramaters to the Cloud function
  },
  "secure": true, // Whether or not to use https for the Cloud call. Default: true
  "timeout": 25000 // timeout value specified in milliseconds. Default: 60000 (60s)
}, function(res) {
  // Cloud call was successful. Alert the response
  alert('Got response from cloud:' + JSON.stringify(res));
}, function(msg,err) {
  // An error occured during the cloud call. Alert some debugging information
  alert('Cloud call failed with error message:' + msg + '. Error properties:' + JSON.stringify(err));
});</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Android (Java)</strong></p><p>
					
<pre class="programlisting language-java">//build the request object. The first parameter is the name of the cloud side function to be called,
//the second parameter is the data parameter for the function
FHActRequest request = FH.buildActRequest("getTweets", new JSONObject().put("qs", "feedhenry"));
//the request will be executed asynchronously
request.executeAsync(new FHActCallback() {
  @Override
  public void success(FHResponse res) {
    //the function to execute if the request is successful
    try {
      JSONArray resObj = res.getJson().getJSONArray("tweets");
      Log.d(TAG, resObj.toString(2));
      for(int i=0;i&lt;resObj.length();i++){
        JSONObject event = resObj.getJSONObject(i);
        ...
      }
    } catch(Exception e){
      Log.e(TAG, e.getMessage(), e);
    }
  }

  @Override
  public void fail(FHResponse res) {
    //the function to execute if the request is failed
    Log.e(TAG, res.getErrorMessage(), res.getError());
  }
});</pre>
				</p></div><div class="formalpara"><p class="title"><strong>iOS (Objective-C)</strong></p><p>
					
<pre class="programlisting language-objectivec">FHActRequest * action = (FHActRequest *) [FH buildActRequest:@"getTweets" WithArgs:[NSDictionary dictionaryWithObject:@"feedhenry" forKey:@"qs"]];
  [action execAsyncWithSuccess:^(FHResponse * actRes){
    //the actRes will contain 10 tweets about "feedhenry"
    //the JSON response from the cloud will be parsed to NSDictionary automatically
    NSDictionary* resData = actRes.parsedResponse;
    NSArray * tweets = (NSArray *) [resData objectForKey:@"tweets"];
    //display tweets in the UI
...
} AndFailure:^(FHResponse * actFailRes){
  //if there is any error, you can check the rawResponse string
  NSLog(@"Failed to read tweets. Response = %@", actFailRes.rawResponse);
  }
];
//You can also use the delegate pattern with the FHActRequet object. If you use that pattern, you need to implement the FHResponseDelegate protocol and assign an instance to the FHActRequest instance. When the request is executed, replace the blocks with __nil__.</pre>
				</p></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140270133768160"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2018 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat Software Collections is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>